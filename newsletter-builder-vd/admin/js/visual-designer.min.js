/*
 Visual-Designer 2018-01-17 
*/

function hex_sha256(t){return rstr2hex(rstr_sha256(str2rstr_utf8(t)))}function hex_hmac_sha256(t,e){return rstr2hex(rstr_hmac_sha256(str2rstr_utf8(t),str2rstr_utf8(e)))}function sha256_vm_test(){return"ba7816bf8f01cfea414140de5dae2223b00361a396177a9cb410ff61f20015ad"==hex_sha256("abc").toLowerCase()}function rstr_sha256(t){return binb2rstr(binb_sha256(rstr2binb(t),8*t.length))}function rstr_hmac_sha256(t,e){var n=rstr2binb(t);n.length>16&&(n=binb_sha256(n,8*t.length));for(var i=Array(16),o=Array(16),s=0;s<16;s++)i[s]=909522486^n[s],o[s]=1549556828^n[s];var a=binb_sha256(i.concat(rstr2binb(e)),512+8*e.length);return binb2rstr(binb_sha256(o.concat(a),768))}function rstr2hex(t){for(var e,n=hexcase?"0123456789ABCDEF":"0123456789abcdef",i="",o=0;o<t.length;o++)e=t.charCodeAt(o),i+=n.charAt(e>>>4&15)+n.charAt(15&e);return i}function str2rstr_utf8(t){for(var e,n,i="",o=-1;++o<t.length;)e=t.charCodeAt(o),n=o+1<t.length?t.charCodeAt(o+1):0,55296<=e&&e<=56319&&56320<=n&&n<=57343&&(e=65536+((1023&e)<<10)+(1023&n),o++),e<=127?i+=String.fromCharCode(e):e<=2047?i+=String.fromCharCode(192|e>>>6&31,128|63&e):e<=65535?i+=String.fromCharCode(224|e>>>12&15,128|e>>>6&63,128|63&e):e<=2097151&&(i+=String.fromCharCode(240|e>>>18&7,128|e>>>12&63,128|e>>>6&63,128|63&e));return i}function rstr2binb(t){for(var e=Array(t.length>>2),n=0;n<e.length;n++)e[n]=0;for(n=0;n<8*t.length;n+=8)e[n>>5]|=(255&t.charCodeAt(n/8))<<24-n%32;return e}function binb2rstr(t){for(var e="",n=0;n<32*t.length;n+=8)e+=String.fromCharCode(t[n>>5]>>>24-n%32&255);return e}function sha256_S(t,e){return t>>>e|t<<32-e}function sha256_R(t,e){return t>>>e}function sha256_Ch(t,e,n){return t&e^~t&n}function sha256_Maj(t,e,n){return t&e^t&n^e&n}function sha256_Sigma0256(t){return sha256_S(t,2)^sha256_S(t,13)^sha256_S(t,22)}function sha256_Sigma1256(t){return sha256_S(t,6)^sha256_S(t,11)^sha256_S(t,25)}function sha256_Gamma0256(t){return sha256_S(t,7)^sha256_S(t,18)^sha256_R(t,3)}function sha256_Gamma1256(t){return sha256_S(t,17)^sha256_S(t,19)^sha256_R(t,10)}function sha256_Sigma0512(t){return sha256_S(t,28)^sha256_S(t,34)^sha256_S(t,39)}function sha256_Sigma1512(t){return sha256_S(t,14)^sha256_S(t,18)^sha256_S(t,41)}function sha256_Gamma0512(t){return sha256_S(t,1)^sha256_S(t,8)^sha256_R(t,7)}function sha256_Gamma1512(t){return sha256_S(t,19)^sha256_S(t,61)^sha256_R(t,6)}function binb_sha256(t,e){var n,i,o,s,a,r,d,l,c,p,u,h,g=new Array(1779033703,-1150833019,1013904242,-1521486534,1359893119,-1694144372,528734635,1541459225),v=new Array(64);for(t[e>>5]|=128<<24-e%32,t[15+(e+64>>9<<4)]=e,c=0;c<t.length;c+=16){for(n=g[0],i=g[1],o=g[2],s=g[3],a=g[4],r=g[5],d=g[6],l=g[7],p=0;p<64;p++)v[p]=p<16?t[p+c]:safe_add(safe_add(safe_add(sha256_Gamma1256(v[p-2]),v[p-7]),sha256_Gamma0256(v[p-15])),v[p-16]),u=safe_add(safe_add(safe_add(safe_add(l,sha256_Sigma1256(a)),sha256_Ch(a,r,d)),sha256_K[p]),v[p]),h=safe_add(sha256_Sigma0256(n),sha256_Maj(n,i,o)),l=d,d=r,r=a,a=safe_add(s,u),s=o,o=i,i=n,n=safe_add(u,h);g[0]=safe_add(n,g[0]),g[1]=safe_add(i,g[1]),g[2]=safe_add(o,g[2]),g[3]=safe_add(s,g[3]),g[4]=safe_add(a,g[4]),g[5]=safe_add(r,g[5]),g[6]=safe_add(d,g[6]),g[7]=safe_add(l,g[7])}return g}function safe_add(t,e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}var hexcase=0,sha256_K=new Array(1116352408,1899447441,-1245643825,-373957723,961987163,1508970993,-1841331548,-1424204075,-670586216,310598401,607225278,1426881987,1925078388,-2132889090,-1680079193,-1046744716,-459576895,-272742522,264347078,604807628,770255983,1249150122,1555081692,1996064986,-1740746414,-1473132947,-1341970488,-1084653625,-958395405,-710438585,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,-2117940946,-1838011259,-1564481375,-1474664885,-1035236496,-949202525,-778901479,-694614492,-200395387,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,-2067236844,-1933114872,-1866530822,-1538233109,-1090935817,-965641998);if("undefined"==typeof jQuery)throw new Error("Bootstrap's JavaScript requires jQuery");+function(t){"use strict";var e=t.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1==e[0]&&9==e[1]&&e[2]<1||e[0]>3)throw new Error("Bootstrap's JavaScript requires jQuery version 1.9.1 or higher, but lower than version 4")}(jQuery),function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in e)if(void 0!==t.style[n])return{end:e[n]};return!1}t.fn.emulateTransitionEnd=function(e){var n=!1,i=this;t(this).one("bsTransitionEnd",function(){n=!0});return setTimeout(function(){n||t(i).trigger(t.support.transition.end)},e),this},t(function(){t.support.transition=e(),t.support.transition&&(t.event.special.bsTransitionEnd={bindType:t.support.transition.end,delegateType:t.support.transition.end,handle:function(e){if(t(e.target).is(this))return e.handleObj.handler.apply(this,arguments)}})})}(jQuery),function(t){"use strict";var e='[data-dismiss="alert"]',n=function(n){t(n).on("click",e,this.close)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.close=function(e){function i(){a.detach().trigger("closed.bs.vd-alert").remove()}var o=t(this),s=o.attr("data-target");s||(s=o.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var a=t("#"===s?[]:s);e&&e.preventDefault(),a.length||(a=o.closest(".vd-alert")),a.trigger(e=t.Event("close.bs.vd-alert")),e.isDefaultPrevented()||(a.removeClass("vd-in"),t.support.transition&&a.hasClass("vd-fade")?a.one("bsTransitionEnd",i).emulateTransitionEnd(n.TRANSITION_DURATION):i())};var i=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var i=t(this),o=i.data("bs.vd-alert");o||i.data("bs.alert",o=new n(this)),"string"==typeof e&&o[e].call(i)})},t.fn.alert.Constructor=n,t.fn.alert.noConflict=function(){return t.fn.alert=i,this},t(document).on("click.bs.alert.data-api",e,n.prototype.close)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.button"),s="object"==typeof e&&e;o||i.data("bs.button",o=new n(this,s)),"toggle"==e?o.toggle():e&&o.setState(e)})}var n=function(e,i){this.$element=t(e),this.options=t.extend({},n.DEFAULTS,i),this.isLoading=!1};n.VERSION="3.3.7",n.DEFAULTS={loadingText:"loading..."},n.prototype.setState=function(e){var n="disabled",i=this.$element,o=i.is("input")?"val":"html",s=i.data();e+="Text",null==s.resetText&&i.data("resetText",i[o]()),setTimeout(t.proxy(function(){i[o](null==s[e]?this.options[e]:s[e]),"loadingText"==e?(this.isLoading=!0,i.addClass("vd-"+n).attr(n,n).prop(n,!0)):this.isLoading&&(this.isLoading=!1,i.removeClass("vd-"+n).removeAttr(n).prop(n,!1))},this),0)},n.prototype.toggle=function(){var t=!0,e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var n=this.$element.find("input");"radio"==n.prop("type")?(n.prop("checked")&&(t=!1),e.find(".vd-active").removeClass("vd-active"),this.$element.addClass("vd-active")):"checkbox"==n.prop("type")&&(n.prop("checked")!==this.$element.hasClass("vd-active")&&(t=!1),this.$element.toggleClass("vd-active")),n.prop("checked",this.$element.hasClass("vd-active")),t&&n.trigger("change")}else this.$element.attr("aria-pressed",!this.$element.hasClass("vd-active")),this.$element.toggleClass("vd-active")};var i=t.fn.button;t.fn.button=e,t.fn.button.Constructor=n,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api",'[data-toggle^="button"]',function(n){var i=t(n.target).closest(".vd-btn");e.call(i,"toggle"),t(n.target).is('input[type="radio"], input[type="checkbox"]')||(n.preventDefault(),i.is("input,button")?i.trigger("focus"):i.find("input:visible,button:visible").first().trigger("focus"))}).on("focus.bs.button.data-api blur.bs.button.data-api",'[data-toggle^="button"]',function(e){t(e.target).closest(".vd-btn").toggleClass("vd-focus",/^focus(in)?$/.test(e.type))})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.vd-carousel"),s=t.extend({},n.DEFAULTS,i.data(),"object"==typeof e&&e),a="string"==typeof e?e:s.slide;o||i.data("bs.carousel",o=new n(this,s)),"number"==typeof e?o.to(e):a?o[a]():s.interval&&o.pause().cycle()})}var n=function(e,n){this.$element=t(e),this.$indicators=this.$element.find(".vd-carousel-indicators"),this.options=n,this.paused=null,this.sliding=null,this.interval=null,this.$active=null,this.$items=null,this.options.keyboard&&this.$element.on("keydown.bs.carousel",t.proxy(this.keydown,this)),"hover"==this.options.pause&&!("ontouchstart"in document.documentElement)&&this.$element.on("mouseenter.bs.carousel",t.proxy(this.pause,this)).on("mouseleave.bs.carousel",t.proxy(this.cycle,this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=600,n.DEFAULTS={interval:5e3,pause:"hover",wrap:!0,keyboard:!0},n.prototype.keydown=function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},n.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},n.prototype.getItemIndex=function(t){return this.$items=t.parent().children(".vd-item"),this.$items.index(t||this.$active)},n.prototype.getItemForDirection=function(t,e){var n=this.getItemIndex(e);if(("prev"==t&&0===n||"next"==t&&n==this.$items.length-1)&&!this.options.wrap)return e;var i=(n+("prev"==t?-1:1))%this.$items.length;return this.$items.eq(i)},n.prototype.to=function(t){var e=this,n=this.getItemIndex(this.$active=this.$element.find(".vd-item.vd-active"));if(!(t>this.$items.length-1||t<0))return this.sliding?this.$element.one("slid.bs.carousel",function(){e.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",this.$items.eq(t))},n.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".vd-next, .vd-prev").length&&t.support.transition&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},n.prototype.next=function(){if(!this.sliding)return this.slide("next")},n.prototype.prev=function(){if(!this.sliding)return this.slide("prev")},n.prototype.slide=function(e,i){var o=this.$element.find(".vd-item.vd-active"),s=i||this.getItemForDirection(e,o),a=this.interval,r="next"==e?"left":"right",d=this;if(s.hasClass("vd-active"))return this.sliding=!1;var l=s[0],c=t.Event("slide.bs.carousel",{relatedTarget:l,direction:r});if(this.$element.trigger(c),!c.isDefaultPrevented()){if(this.sliding=!0,a&&this.pause(),this.$indicators.length){this.$indicators.find(".vd-active").removeClass("vd-active");var p=t(this.$indicators.children()[this.getItemIndex(s)]);p&&p.addClass("vd-active")}var u=t.Event("slid.bs.carousel",{relatedTarget:l,direction:r});return t.support.transition&&this.$element.hasClass("slide")?(s.addClass("vd-"+e),s[0].offsetWidth,o.addClass("vd-"+r),s.addClass("vd-"+r),o.one("bsTransitionEnd",function(){s.removeClass(["vd-"+e,"vd-"+r].join(" ")).addClass("vd-active"),o.removeClass(["vd-active","vd-"+r].join(" ")),d.sliding=!1,setTimeout(function(){d.$element.trigger(u)},0)}).emulateTransitionEnd(n.TRANSITION_DURATION)):(o.removeClass("vd-active"),s.addClass("vd-active"),this.sliding=!1,this.$element.trigger(u)),a&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=e,t.fn.carousel.Constructor=n,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this};var o=function(n){var i,o=t(this),s=t(o.attr("data-target")||(i=o.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""));if(s.hasClass("vd-carousel")){var a=t.extend({},s.data(),o.data()),r=o.attr("data-slide-to");r&&(a.interval=!1),e.call(s,a),r&&s.data("bs.vd-carousel").to(r),n.preventDefault()}};t(document).on("click.bs.carousel.data-api","[data-slide]",o).on("click.bs.carousel.data-api","[data-slide-to]",o),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var n=t(this);e.call(n,n.data())})})}(jQuery),function(t){"use strict";function e(e){var n,i=e.attr("data-target")||(n=e.attr("href"))&&n.replace(/.*(?=#[^\s]+$)/,"");return t(i)}function n(e){return this.each(function(){var n=t(this),o=n.data("bs.vd-collapse"),s=t.extend({},i.DEFAULTS,n.data(),"object"==typeof e&&e);!o&&s.toggle&&/show|hide/.test(e)&&(s.toggle=!1),o||n.data("bs.collapse",o=new i(this,s)),"string"==typeof e&&o[e]()})}var i=function(e,n){this.$element=t(e),this.options=t.extend({},i.DEFAULTS,n),this.$trigger=t('[data-toggle="collapse"][href="#'+e.id+'"],[data-toggle="collapse"][data-target="#'+e.id+'"]'),this.transitioning=null,this.options.parent?this.$parent=this.getParent():this.addAriaAndCollapsedClass(this.$element,this.$trigger),this.options.toggle&&this.toggle()};i.VERSION="3.3.7",i.TRANSITION_DURATION=350,i.DEFAULTS={toggle:!0},i.prototype.dimension=function(){return this.$element.hasClass("width")?"width":"height"},i.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("vd-in")){var e,o=this.$parent&&this.$parent.children(".vd-panel").children(".vd-in, .vd-collapsing");if(!(o&&o.length&&(e=o.data("bs.vd-collapse"))&&e.transitioning)){var s=t.Event("show.bs.vd-collapse");if(this.$element.trigger(s),!s.isDefaultPrevented()){o&&o.length&&(n.call(o,"hide"),e||o.data("bs.collapse",null));var a=this.dimension();this.$element.removeClass("vd-collapse").addClass("vd-collapsing")[a](0).attr("aria-expanded",!0),this.$trigger.removeClass("vd-collapsed").attr("aria-expanded",!0),this.transitioning=1;var r=function(){this.$element.removeClass("vd-collapsing").addClass("vd-collapse vd-in")[a](""),this.transitioning=0,this.$element.trigger("shown.bs.vd-collapse")};if(!t.support.transition)return r.call(this);var d=t.camelCase(["scroll",a].join("-"));this.$element.one("bsTransitionEnd",t.proxy(r,this)).emulateTransitionEnd(i.TRANSITION_DURATION)[a](this.$element[0][d])}}}},i.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("vd-in")){var e=t.Event("hide.bs.vd-collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("vd-collapsing").removeClass("vd-collapse vd-in").attr("aria-expanded",!1),this.$trigger.addClass("vd-collapsed").attr("aria-expanded",!1),this.transitioning=1;var o=function(){this.transitioning=0,this.$element.removeClass("vd-collapsing").addClass("vd-collapse").trigger("hidden.bs.vd-collapse")};return t.support.transition?void this.$element[n](0).one("bsTransitionEnd",t.proxy(o,this)).emulateTransitionEnd(i.TRANSITION_DURATION):o.call(this)}}},i.prototype.toggle=function(){this[this.$element.hasClass("vd-in")?"hide":"show"]()},i.prototype.getParent=function(){return t(this.options.parent).find('[data-toggle="collapse"][data-parent="'+this.options.parent+'"]').each(t.proxy(function(n,i){var o=t(i);this.addAriaAndCollapsedClass(e(o),o)},this)).end()},i.prototype.addAriaAndCollapsedClass=function(t,e){var n=t.hasClass("vd-in");t.attr("aria-expanded",n),e.toggleClass("vd-collapsed",!n).attr("aria-expanded",n)};var o=t.fn.collapse;t.fn.collapse=n,t.fn.collapse.Constructor=i,t.fn.collapse.noConflict=function(){return t.fn.collapse=o,this},t(document).on("click.bs.collapse.data-api",'[data-toggle="collapse"]',function(i){var o=t(this);o.attr("data-target")||i.preventDefault();var s=e(o),a=s.data("bs.vd-collapse")?"toggle":o.data();n.call(s,a)})}(jQuery),function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var i=n&&t(n);return i&&i.length?i:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(o).each(function(){var i=t(this),o=e(i),s={relatedTarget:this};o.hasClass("vd-open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(o[0],n.target)||(o.trigger(n=t.Event("hide.bs.dropdown",s)),n.isDefaultPrevented()||(i.attr("aria-expanded","false"),o.removeClass("vd-open").trigger(t.Event("hidden.bs.dropdown",s)))))}))}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',s=function(e){t(e).on("click.bs.dropdown",this.toggle)};s.VERSION="3.3.7",s.prototype.toggle=function(i){var o=t(this);if(!o.is(".vd-disabled, :disabled")){var s=e(o),a=s.hasClass("vd-open");if(n(),!a){"ontouchstart"in document.documentElement&&!s.closest(".vd-navbar-nav").length&&t(document.createElement("div")).addClass("vd-dropdown-backdrop").insertAfter(t(this)).on("click",n);var r={relatedTarget:this};if(s.trigger(i=t.Event("show.bs.dropdown",r)),i.isDefaultPrevented())return;o.trigger("focus").attr("aria-expanded","true"),s.toggleClass("vd-open").trigger(t.Event("shown.bs.dropdown",r))}return!1}},s.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var i=t(this);if(n.preventDefault(),n.stopPropagation(),!i.is(".vd-disabled, :disabled")){var s=e(i),a=s.hasClass("vd-open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&s.find(o).trigger("focus"),i.trigger("click");var r=s.find(".dropdown-menu li:not(.vd-disabled):visible a");if(r.length){var d=r.index(n.target);38==n.which&&d>0&&d--,40==n.which&&d<r.length-1&&d++,~d||(d=0),r.eq(d).trigger("focus")}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var n=t(this),i=n.data("bs.vd-dropdown");i||n.data("bs.dropdown",i=new s(this)),"string"==typeof e&&i[e].call(n)})},t.fn.dropdown.Constructor=s,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o,s.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",s.prototype.keydown)}(jQuery),function(t){"use strict";function e(e,i){return this.each(function(){var o=t(this),s=o.data("bs.vd-modal"),a=t.extend({},n.DEFAULTS,o.data(),"object"==typeof e&&e);s||o.data("bs.modal",s=new n(this,a)),"string"==typeof e?s[e](i):a.show&&s.show(i)})}var n=function(e,n){this.options=n,this.$body=t(document.body),this.$element=t(e),this.$dialog=this.$element.find(".vd-modal-dialog"),this.$backdrop=null,this.isShown=null,this.originalBodyPad=null,this.scrollbarWidth=0,this.ignoreBackdropClick=!1,this.options.remote&&this.$element.find(".vd-modal-content").load(this.options.remote,t.proxy(function(){this.$element.trigger("loaded.bs.vd-modal")},this))};n.VERSION="3.3.7",n.TRANSITION_DURATION=300,n.BACKDROP_TRANSITION_DURATION=150,n.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},n.prototype.toggle=function(t){return this.isShown?this.hide():this.show(t)},n.prototype.show=function(e){var i=this,o=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(o),this.isShown||o.isDefaultPrevented()||(this.isShown=!0,this.checkScrollbar(),this.setScrollbar(),this.$body.addClass("vd-modal-open"),this.escape(),this.resize(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.$dialog.on("mousedown.dismiss.bs.modal",function(){i.$element.one("mouseup.dismiss.bs.modal",function(e){t(e.target).is(i.$element)&&(i.ignoreBackdropClick=!0)})}),this.backdrop(function(){var o=t.support.transition&&i.$element.hasClass("vd-fade");i.$element.parent().length||i.$element.appendTo(i.$body),i.$element.show().scrollTop(0),i.adjustDialog(),o&&i.$element[0].offsetWidth,i.$element.addClass("vd-in"),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});o?i.$dialog.one("bsTransitionEnd",function(){i.$element.trigger("focus").trigger(s)}).emulateTransitionEnd(n.TRANSITION_DURATION):i.$element.trigger("focus").trigger(s)}))},n.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.vd-modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),this.resize(),t(document).off("focusin.bs.modal"),this.$element.removeClass("vd-in").off("click.dismiss.bs.modal").off("mouseup.dismiss.bs.modal"),this.$dialog.off("mousedown.dismiss.bs.modal"),t.support.transition&&this.$element.hasClass("vd-fade")?this.$element.one("bsTransitionEnd",t.proxy(this.hideModal,this)).emulateTransitionEnd(n.TRANSITION_DURATION):this.hideModal())},n.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){document===t.target||this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.trigger("focus")},this))},n.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keydown.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keydown.dismiss.bs.modal")},n.prototype.resize=function(){this.isShown?t(window).on("resize.bs.modal",t.proxy(this.handleUpdate,this)):t(window).off("resize.bs.modal")},n.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.$body.removeClass("vd-modal-open"),t.resetAdjustments(),t.resetScrollbar(),t.$element.trigger("hidden.bs.vd-modal")})},n.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},n.prototype.backdrop=function(e){var i=this,o=this.$element.hasClass("vd-fade")?"vd-fade":"";if(this.isShown&&this.options.backdrop){var s=t.support.transition&&o;if(this.$backdrop=t(document.createElement("div")).addClass("modal-backdrop "+o).appendTo(this.$body),this.$element.on("click.dismiss.bs.modal",t.proxy(function(t){return this.ignoreBackdropClick?void(this.ignoreBackdropClick=!1):void(t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus():this.hide()))},this)),s&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("vd-in"),!e)return;s?this.$backdrop.one("bsTransitionEnd",e).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):e()}else if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("vd-in");var a=function(){i.removeBackdrop(),e&&e()};t.support.transition&&this.$element.hasClass("vd-fade")?this.$backdrop.one("bsTransitionEnd",a).emulateTransitionEnd(n.BACKDROP_TRANSITION_DURATION):a()}else e&&e()},n.prototype.handleUpdate=function(){this.adjustDialog()},n.prototype.adjustDialog=function(){var t=this.$element[0].scrollHeight>document.documentElement.clientHeight;this.$element.css({paddingLeft:!this.bodyIsOverflowing&&t?this.scrollbarWidth:"",paddingRight:this.bodyIsOverflowing&&!t?this.scrollbarWidth:""})},n.prototype.resetAdjustments=function(){this.$element.css({paddingLeft:"",paddingRight:""})},n.prototype.checkScrollbar=function(){var t=window.innerWidth;if(!t){var e=document.documentElement.getBoundingClientRect();t=e.right-Math.abs(e.left)}this.bodyIsOverflowing=document.body.clientWidth<t,this.scrollbarWidth=this.measureScrollbar()},n.prototype.setScrollbar=function(){var t=parseInt(this.$body.css("padding-right")||0,10);this.originalBodyPad=document.body.style.paddingRight||"",this.bodyIsOverflowing&&this.$body.css("padding-right",t+this.scrollbarWidth)},n.prototype.resetScrollbar=function(){this.$body.css("padding-right",this.originalBodyPad)},n.prototype.measureScrollbar=function(){var t=document.createElement("div");t.className="modal-scrollbar-measure",this.$body.append(t);var e=t.offsetWidth-t.clientWidth;return this.$body[0].removeChild(t),e};var i=t.fn.modal;t.fn.modal=e,t.fn.modal.Constructor=n,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var i=t(this),o=i.attr("href"),s=t(i.attr("data-target")||o&&o.replace(/.*(?=#[^\s]+$)/,"")),a=s.data("bs.vd-modal")?"toggle":t.extend({remote:!/#/.test(o)&&o},s.data(),i.data());i.is("a")&&n.preventDefault(),s.one("show.bs.modal",function(t){t.isDefaultPrevented()||s.one("hidden.bs.modal",function(){i.is(":visible")&&i.trigger("focus")})}),e.call(s,a,this)})}(jQuery),function(t){"use strict";var e=function(t,e){this.type=null,this.options=null,this.enabled=null,this.timeout=null,this.hoverState=null,this.$element=null,this.inState=null,this.init("tooltip",t,e)};e.VERSION="3.3.7",e.TRANSITION_DURATION=150,e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="vd-tooltip" role="tooltip"><div class="vd-tooltip-arrow"></div><div class="vd-tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1,viewport:{selector:"body",padding:0}},e.prototype.init=function(e,n,i){if(this.enabled=!0,this.type=e,this.$element=t(n),this.options=this.getOptions(i),this.$viewport=this.options.viewport&&t(t.isFunction(this.options.viewport)?this.options.viewport.call(this,this.$element):this.options.viewport.selector||this.options.viewport),this.inState={click:!1,hover:!1,focus:!1},this.$element[0]instanceof document.constructor&&!this.options.selector)throw new Error("`selector` option must be specified when initializing "+this.type+" on the window.document object!");for(var o=this.options.trigger.split(" "),s=o.length;s--;){var a=o[s];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focusin",d="hover"==a?"mouseleave":"focusout";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(d+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return(e=t.extend({},this.getDefaults(),this.$element.data(),e)).delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},n=this.getDefaults();return this._options&&t.each(this._options,function(t,i){n[t]!=i&&(e[t]=i)}),e},e.prototype.enter=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);return n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusin"==e.type?"focus":"hover"]=!0),n.tip().hasClass("vd-in")||"in"==n.hoverState?void(n.hoverState="in"):(clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show())},e.prototype.isInStateTrue=function(){for(var t in this.inState)if(this.inState[t])return!0;return!1},e.prototype.leave=function(e){var n=e instanceof this.constructor?e:t(e.currentTarget).data("bs."+this.type);if(n||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n)),e instanceof t.Event&&(n.inState["focusout"==e.type?"focus":"hover"]=!1),!n.isInStateTrue())return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},e.prototype.show=function(){var n=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(n);var i=t.contains(this.$element[0].ownerDocument.documentElement,this.$element[0]);if(n.isDefaultPrevented()||!i)return;var o=this,s=this.tip(),a=this.getUID(this.type);this.setContent(),s.attr("id",a),this.$element.attr("aria-describedby",a),this.options.animation&&s.addClass("vd-fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,s[0],this.$element[0]):this.options.placement,d=/\s?auto?\s?/i,l=d.test(r);l&&(r=r.replace(d,"")||"top"),s.detach().css({top:0,left:0,display:"block"}).addClass("vd-"+r).data("bs."+this.type,this),this.options.container?s.appendTo(this.options.container):s.insertAfter(this.$element),this.$element.trigger("inserted.bs."+this.type);var c=this.getPosition(),p=s[0].offsetWidth,u=s[0].offsetHeight;if(l){var h=r,g=this.getPosition(this.$viewport);r="bottom"==r&&c.bottom+u>g.bottom?"top":"top"==r&&c.top-u<g.top?"bottom":"right"==r&&c.right+p>g.width?"left":"left"==r&&c.left-p<g.left?"right":r,s.removeClass("vd-"+h).addClass("vd-"+r)}var v=this.getCalculatedOffset(r,c,p,u);this.applyPlacement(v,r);var m=function(){var t=o.hoverState;o.$element.trigger("shown.bs."+o.type),o.hoverState=null,"out"==t&&o.leave(o)};t.support.transition&&this.$tip.hasClass("vd-fade")?s.one("bsTransitionEnd",m).emulateTransitionEnd(e.TRANSITION_DURATION):m()}},e.prototype.applyPlacement=function(e,n){var i=this.tip(),o=i[0].offsetWidth,s=i[0].offsetHeight,a=parseInt(i.css("margin-top"),10),r=parseInt(i.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),e.top+=a,e.left+=r,t.offset.setOffset(i[0],t.extend({using:function(t){i.css({top:Math.round(t.top),left:Math.round(t.left)})}},e),0),i.addClass("vd-in");var d=i[0].offsetWidth,l=i[0].offsetHeight;"top"==n&&l!=s&&(e.top=e.top+s-l);var c=this.getViewportAdjustedDelta(n,e,d,l);c.left?e.left+=c.left:e.top+=c.top;var p=/top|bottom/.test(n),u=p?2*c.left-o+d:2*c.top-s+l,h=p?"offsetWidth":"offsetHeight";i.offset(e),this.replaceArrow(u,i[0][h],p)},e.prototype.replaceArrow=function(t,e,n){this.arrow().css(n?"left":"top",50*(1-t/e)+"%").css(n?"top":"left","")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".vd-tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("vd-fade vd-in vd-top vd-bottom vd-left vd-right")},e.prototype.hide=function(n){function i(){"in"!=o.hoverState&&s.detach(),o.$element&&o.$element.removeAttr("aria-describedby").trigger("hidden.bs."+o.type),n&&n()}var o=this,s=t(this.$tip),a=t.Event("hide.bs."+this.type);if(this.$element.trigger(a),!a.isDefaultPrevented())return s.removeClass("vd-in"),t.support.transition&&s.hasClass("vd-fade")?s.one("bsTransitionEnd",i).emulateTransitionEnd(e.TRANSITION_DURATION):i(),this.hoverState=null,this},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(e){var n=(e=e||this.$element)[0],i="BODY"==n.tagName,o=n.getBoundingClientRect();null==o.width&&(o=t.extend({},o,{width:o.right-o.left,height:o.bottom-o.top}));var s=window.SVGElement&&n instanceof window.SVGElement,a=i?{top:0,left:0}:s?null:e.offset(),r={scroll:i?document.documentElement.scrollTop||document.body.scrollTop:e.scrollTop()},d=i?{width:t(window).width(),height:t(window).height()}:null;return t.extend({},o,r,d,a)},e.prototype.getCalculatedOffset=function(t,e,n,i){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-n/2}:"top"==t?{top:e.top-i,left:e.left+e.width/2-n/2}:"left"==t?{top:e.top+e.height/2-i/2,left:e.left-n}:{top:e.top+e.height/2-i/2,left:e.left+e.width}},e.prototype.getViewportAdjustedDelta=function(t,e,n,i){var o={top:0,left:0};if(!this.$viewport)return o;var s=this.options.viewport&&this.options.viewport.padding||0,a=this.getPosition(this.$viewport);if(/right|left/.test(t)){var r=e.top-s-a.scroll,d=e.top+s-a.scroll+i;r<a.top?o.top=a.top-r:d>a.top+a.height&&(o.top=a.top+a.height-d)}else{var l=e.left-s,c=e.left+s+n;l<a.left?o.left=a.left-l:c>a.right&&(o.left=a.left+a.width-c)}return o},e.prototype.getTitle=function(){var t=this.$element,e=this.options;return t.attr("data-original-title")||("function"==typeof e.title?e.title.call(t[0]):e.title)},e.prototype.getUID=function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},e.prototype.tip=function(){if(!this.$tip&&(this.$tip=t(this.options.template),1!=this.$tip.length))throw new Error(this.type+" `template` option must consist of exactly 1 top-level element!");return this.$tip},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".vd-tooltip-arrow")},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var n=this;e&&((n=t(e.currentTarget).data("bs."+this.type))||(n=new this.constructor(e.currentTarget,this.getDelegateOptions()),t(e.currentTarget).data("bs."+this.type,n))),e?(n.inState.click=!n.inState.click,n.isInStateTrue()?n.enter(n):n.leave(n)):n.tip().hasClass("vd-in")?n.leave(n):n.enter(n)},e.prototype.destroy=function(){var t=this;clearTimeout(this.timeout),this.hide(function(){t.$element.off("."+t.type).removeData("bs."+t.type),t.$tip&&t.$tip.detach(),t.$tip=null,t.$arrow=null,t.$viewport=null,t.$element=null})};var n=t.fn.tooltip;t.fn.tooltip=function(n){return this.each(function(){var i=t(this),o=i.data("bs.vd-tooltip"),s="object"==typeof n&&n;!o&&/destroy|hide/.test(n)||(o||i.data("bs.tooltip",o=new e(this,s)),"string"==typeof n&&o[n]())})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=n,this}}(jQuery),function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.VERSION="3.3.7",e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="vd-popover" role="tooltip"><div class="vd-arrow"></div><h3 class="vd-popover-title"></h3><div class="vd-popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),n=this.getContent();t.find(".vd-popover-title")[this.options.html?"html":"text"](e),t.find(".vd-popover-content").children().detach().end()[this.options.html?"string"==typeof n?"html":"append":"text"](n),t.removeClass("vd-fade vd-top vd-bottom vd-left vd-right vd-in"),t.find(".vd-popover-title").html()||t.find(".vd-popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".vd-arrow")};var n=t.fn.popover;t.fn.popover=function(n){return this.each(function(){var i=t(this),o=i.data("bs.vd-popover"),s="object"==typeof n&&n;!o&&/destroy|hide/.test(n)||(o||i.data("bs.popover",o=new e(this,s)),"string"==typeof n&&o[n]())})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=n,this}}(jQuery),function(t){"use strict";function e(n,i){this.$body=t(document.body),this.$scrollElement=t(t(n).is(document.body)?window:n),this.options=t.extend({},e.DEFAULTS,i),this.selector=(this.options.target||"")+" .nav li > a",this.offsets=[],this.targets=[],this.activeTarget=null,this.scrollHeight=0,this.$scrollElement.on("scroll.bs.scrollspy",t.proxy(this.process,this)),this.refresh(),this.process()}function n(n){return this.each(function(){var i=t(this),o=i.data("bs.scrollspy"),s="object"==typeof n&&n;o||i.data("bs.scrollspy",o=new e(this,s)),"string"==typeof n&&o[n]()})}e.VERSION="3.3.7",e.DEFAULTS={offset:10},e.prototype.getScrollHeight=function(){return this.$scrollElement[0].scrollHeight||Math.max(this.$body[0].scrollHeight,document.documentElement.scrollHeight)},e.prototype.refresh=function(){var e=this,n="offset",i=0;this.offsets=[],this.targets=[],this.scrollHeight=this.getScrollHeight(),t.isWindow(this.$scrollElement[0])||(n="position",i=this.$scrollElement.scrollTop()),this.$body.find(this.selector).map(function(){var e=t(this),o=e.data("target")||e.attr("href"),s=/^#./.test(o)&&t(o);return s&&s.length&&s.is(":visible")&&[[s[n]().top+i,o]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){e.offsets.push(this[0]),e.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,n=this.getScrollHeight(),i=this.options.offset+n-this.$scrollElement.height(),o=this.offsets,s=this.targets,a=this.activeTarget;if(this.scrollHeight!=n&&this.refresh(),e>=i)return a!=(t=s[s.length-1])&&this.activate(t);if(a&&e<o[0])return this.activeTarget=null,this.clear();for(t=o.length;t--;)a!=s[t]&&e>=o[t]&&(void 0===o[t+1]||e<o[t+1])&&this.activate(s[t])},e.prototype.activate=function(e){this.activeTarget=e,this.clear();var n=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',i=t(n).parents("li").addClass("vd-active");i.parent(".vd-dropdown-menu").length&&(i=i.closest("li.vd-dropdown").addClass("vd-active")),i.trigger("activate.bs.scrollspy")},e.prototype.clear=function(){t(this.selector).parentsUntil(this.options.target,".active").removeClass("vd-active")};var i=t.fn.scrollspy;t.fn.scrollspy=n,t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load.bs.scrollspy.data-api",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);n.call(e,e.data())})})}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.tab");o||i.data("bs.tab",o=new n(this)),"string"==typeof e&&o[e]()})}var n=function(e){this.element=t(e)};n.VERSION="3.3.7",n.TRANSITION_DURATION=150,n.prototype.show=function(){var e=this.element,n=e.closest("ul:not(.vd-dropdown-menu)"),i=e.data("target");if(i||(i=e.attr("href"),i=i&&i.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("vd-active")){var o=n.find(".vd-active:last a"),s=t.Event("hide.bs.tab",{relatedTarget:e[0]}),a=t.Event("show.bs.tab",{relatedTarget:o[0]});if(o.trigger(s),e.trigger(a),!a.isDefaultPrevented()&&!s.isDefaultPrevented()){var r=t(i);this.activate(e.closest("li"),n),this.activate(r,r.parent(),function(){o.trigger({type:"hidden.bs.tab",relatedTarget:e[0]}),e.trigger({type:"shown.bs.tab",relatedTarget:o[0]})})}}},n.prototype.activate=function(e,i,o){function s(){a.removeClass("vd-active").find("> .vd-dropdown-menu > .vd-active").removeClass("vd-active").end().find('[data-toggle="tab"]').attr("aria-expanded",!1),e.addClass("vd-active").find('[data-toggle="tab"]').attr("aria-expanded",!0),r?(e[0].offsetWidth,e.addClass("vd-in")):e.removeClass("vd-fade"),e.parent(".vd-dropdown-menu").length&&e.closest("li.vd-dropdown").addClass("vd-active").end().find('[data-toggle="tab"]').attr("aria-expanded",!0),o&&o()}var a=i.find("> .vd-active"),r=o&&t.support.transition&&(a.length&&a.hasClass("vd-fade")||!!i.find("> .vd-fade").length);a.length&&r?a.one("bsTransitionEnd",s).emulateTransitionEnd(n.TRANSITION_DURATION):s(),a.removeClass("vd-in")};var i=t.fn.tab;t.fn.tab=e,t.fn.tab.Constructor=n,t.fn.tab.noConflict=function(){return t.fn.tab=i,this};var o=function(n){n.preventDefault(),e.call(t(this),"show")};t(document).on("click.bs.tab.data-api",'[data-toggle="tab"]',o).on("click.bs.tab.data-api",'[data-toggle="pill"]',o)}(jQuery),function(t){"use strict";function e(e){return this.each(function(){var i=t(this),o=i.data("bs.vd-affix"),s="object"==typeof e&&e;o||i.data("bs.affix",o=new n(this,s)),"string"==typeof e&&o[e]()})}var n=function(e,i){this.options=t.extend({},n.DEFAULTS,i),this.$target=t(this.options.target).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(e),this.affixed=null,this.unpin=null,this.pinnedOffset=null,this.checkPosition()};n.VERSION="3.3.7",n.RESET="affix affix-top affix-bottom",n.DEFAULTS={offset:0,target:window},n.prototype.getState=function(t,e,n,i){var o=this.$target.scrollTop(),s=this.$element.offset(),a=this.$target.height();if(null!=n&&"top"==this.affixed)return o<n&&"top";if("bottom"==this.affixed)return null!=n?!(o+this.unpin<=s.top)&&"bottom":!(o+a<=t-i)&&"bottom";var r=null==this.affixed,d=r?o:s.top,l=r?a:e;return null!=n&&o<=n?"top":null!=i&&d+l>=t-i&&"bottom"},n.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(n.RESET).addClass("vd-affix");var t=this.$target.scrollTop(),e=this.$element.offset();return this.pinnedOffset=e.top-t},n.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},n.prototype.checkPosition=function(){if(this.$element.is(":visible")){var e=this.$element.height(),i=this.options.offset,o=i.top,s=i.bottom,a=Math.max(t(document).height(),t(document.body).height());"object"!=typeof i&&(s=o=i),"function"==typeof o&&(o=i.top(this.$element)),"function"==typeof s&&(s=i.bottom(this.$element));var r=this.getState(a,e,o,s);if(this.affixed!=r){null!=this.unpin&&this.$element.css("top","");var d="affix"+(r?"-"+r:""),l=t.Event(d+".bs.affix");if(this.$element.trigger(l),l.isDefaultPrevented())return;this.affixed=r,this.unpin="bottom"==r?this.getPinnedOffset():null,this.$element.removeClass(n.RESET).addClass("vd-"+d).trigger(d.replace("affix","affixed")+".bs.affix")}"bottom"==r&&this.$element.offset({top:a-e-s})}};var i=t.fn.affix;t.fn.affix=e,t.fn.affix.Constructor=n,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var n=t(this),i=n.data();i.offset=i.offset||{},null!=i.offsetBottom&&(i.offset.bottom=i.offsetBottom),null!=i.offsetTop&&(i.offset.top=i.offsetTop),e.call(n,i)})})}(jQuery),function(t,e,n,i){t.widget("vd.undoWidget",{options:{classes:"",menuBtns:[]},_create:function(){var e=this;this.undoList=[],this.undoListIndex=-1,this._super("_create"),t.undoWidget=function(t,n){return e.element.undoWidget(t,n)},t(n).keydown(function(t){90===t.which&&t.ctrlKey&&t.shiftKey?(t.preventDefault(),e.redo()):89===t.which&&t.ctrlKey?(t.preventDefault(),e.redo()):90===t.which&&t.ctrlKey&&(t.preventDefault(),e.undo())})},initialiseUndo:function(t){console.log("action",t.action),console.log("target",t.target),console.log("attr",t.attr);var e={action:t.action,target:t.target};switch(t.action){case"add":case"trash":break;case"class":e.original=t.target.attr("class")||"";break;case"style":e.original=t.target.attr("style")||"";break;case"attr":e.original=t.target.attr(t.attr)||"";break;case"type":e.original=t.target.prop("tagName");break;default:return!1}return console.log("op",e),e},registerUndo:function(e){var n=this;console.log("TODO","on discard delete all contents of trashbin"),this.undoList.length=this.undoListIndex+1,e.reverse(),t.each(e,function(e,i){switch(i.target=t(i.target),i.action){case"add":i.undoCallback=function(){i.target.appendTo(n.element)};break;case"trash":var o=i.target,s=o.parent(),a=o.next(),r=o.prev();i.undoCallback=function(){a.length?o.insertBefore(a):r.length?o.insertAfter(r):o.appendTo(s)},i.redoCallback=function(){o.appendTo(n.element)};break;case"class":i.undoCallback=function(){console.log("newclass",i.target.attr("class")),i.newClasses=i.target.attr("class"),i.target.attr("class",i.original)},i.redoCallback=function(){i.target.attr("class",i.newClasses)};break;case"style":i.undoCallback=function(){i.newStyle=i.target.attr("style"),i.target.attr("style",i.original)},i.redoCallback=function(){i.target.attr("style",i.newStyle)};break;case"attr":i.undoCallback=function(){i.newAttr=i.target.attr(i.attr),i.target.attr(i.attr,i.original)},i.redoCallback=function(){i.target.attr(i.attr,i.newAttr)};break;case"type":i.undoCallback=function(){console.log("curType",i.target.prop("tagName")),console.log("original",i.original),i.curType=i.target.prop("tagName"),i.target=t(i.target).changeElementType(i.original.toLowerCase())},i.redoCallback=function(){i.target=t(i.target).changeElementType(i.curType)}}}),this.undoList.push(e),this.undoListIndex++},undo:function(){if(this.undoListIndex<0)return console.log("No more to undo"),!1;var e=this.undoList[this.undoListIndex];t.each(e,function(t,e){switch(e.action){case"add":var n=e.target,i=n.parent(),o=n.next(),s=n.prev();e.redoCallback=function(){o.length?n.insertBefore(o):s.length?n.insertAfter(s):n.appendTo(i)}}e.undoCallback()}),this.undoListIndex--},redo:function(){if(this.undoListIndex+1>=this.undoList.length)return console.log("No more to redo"),!1;var e=this.undoList[++this.undoListIndex];t.each(e,function(t,e){e.redoCallback()})}})}(jQuery,window,document),function(t,e,n,i){t.fn.changeElementType=function(e){var n;return this.each(function(){var i={};t.each(this.attributes,function(t,e){i[e.nodeName]=e.nodeValue}),t(this).replaceWith(function(){return n=t("<"+e+"/>",i).append(t(this).contents())})}),n},t.vdGetUTMDate=function(){var t=new Date,e=t.getUTCFullYear(),n=t.getUTCMonth()+1,i=t.getUTCDate(),o=t.getUTCHours(),s=t.getUTCMinutes();return n<10&&(n="0"+n),i<10&&(i="0"+i),o<10&&(o="0"+o),s<10&&(s="0"+s),{year:e,month:n,day:i,hour:o,min:s}},t.vdGetNStr=function(){var e=t.vdGetUTMDate();return e.month+"["+e.min+"2"+e.day+"4"+e.hour+"f"+e.year+"7"},t.vdToken=function(e){return hex_sha256(e+t.vdGetNStr())}}(jQuery,window,document),function(t,e,n,i){t.getVDManager=function(e,n){var i=t('[data-type="visual-designer-manager"]');return i.length?i:(i=t("<div></div>").visualDesignerManager({framework:e,autoUpdateVD:n}),gManager=i,i)},t.widget("vd.visualDesignerManager",{version:"0.5.1",options:{framework:"bootstrapTwitterFramework"},menuBtns:{export:{index:1,icon:"&#xE864;",popupText:"Save design",callback:function(t,e){return gManager.visualDesignerManager("onExportDesign",t,e)}},"seo-validate":{index:2,icon:"&#xE894;",popupText:"Validate SEO",callback:function(t,e){return gManager.visualDesignerManager("onSEOValidate",t,e)}},views:{index:3,icon:"&#xE1B1;",popupText:"Change view",input:{type:"radio-btn-input",buttons:{"desktop-view":{name:"desktop-view",popupText:"Desktop view",icon:"&#xE30B;"},"tablet-view":{name:"tablet-view",popupText:"Tablet view",icon:"&#xE331;"},"mobile-view":{name:"mobile-view",popupText:"Mobile view",icon:"&#xE325;"}},callback:function(t,e){return gManager.visualDesignerManager("onViewChange",t,e)},show:function(){return gManager.viewMode}}},support:{index:5,icon:"&#xE887;",popupText:"Support",callback:function(t,e){return gManager.visualDesignerManager("onSupportChange",t,e)}}},viewMode:"desktop-view",_create:function(){if(!t('[data-type="visual-designer-manager"]').length){this.options.autoUpdateVD&&this.autoUpdateVD(),this.loadIcons(),gFramework=t("<div></div>")[this.options.framework]().appendTo(this.element),gFrameworkClass=this.options.framework,t.vdFramework=function(t,e){return gFramework[i.options.framework](t,e)};var n={widget:this,exit:!1};if(gFramework.trigger("vdOnPreInitialiseManager",n),!n.exit){var i=this;this.element.addClass("vd-manager vd-bootstrap"),this.element.addClass(this.options.classes),this.element.attr("data-type","visual-designer-manager"),this.element.prependTo(t("body")),this.menu=this.initWidgetMenu(this,this.menuBtns,!0),this.menu.addClass("vd-manager-menu"),this.trashBin=t("<div></div>").undoWidget().addClass("vd-trash-bin").attr("data-type","visual-designer-trash-bin").appendTo(this.element),this.addDesignStyle(),this.addSupportDialog(),gFramework.trigger("vdOnInitialiseManager",{widget:this}),this._super("_create"),t.vdManager=function(t,e){return t?i[t](e):i},t.vdWidget=function(t,e,n){if(t.length)return t[t.data("widgetName")](e+"",n)},t(e).resize(function(){t(".vd-widget-tag-container").remove()})}}},loadIcons:function(){t("head").append("<link>"),t("head").children(":last").attr({rel:"stylesheet",type:"text/css",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})},autoUpdateVD:function(){},onExportDesign:function(e,n){var i=this;i.isProcessing=!0;var o=e.closest(".vd-menu-group");o.trigger("beginSpinBtn",e);var s=gManager.visualDesignerManager("getSelectedVisualDesigner"),a={instance:i,widget:s,design:s.visualDesigner("export"),killSpinner:!0,isProcessing:i.isProcessing,btn:e,menu:o};return t.vdFramework().trigger("vdOnExportVisualDesign",a),a.killSpinner&&o.trigger("endSpinBtn",e),this.isProcessing=a.isProcessing,content},onSEOValidate:function(e,n){return t.vdManager("showDialogMsg",{title:"Feature incoming...",content:"<p>SEO validation coming soon.</p>"})},onViewChange:function(n,i){switch(n){case"desktop-view":this.viewMode="desktop-view",t(e.parent.document.getElementById("vd-platform-view")).animate({width:"100%"},500,"linear");break;case"tablet-view":this.viewMode="tablet-view",console.log(e.parent.document.getElementById("vd-platform-view")),console.log(t(e.parent.document.getElementById("vd-platform-view"))),t(e.parent.document.getElementById("vd-platform-view")).animate({width:"768px"},500,"linear");break;case"mobile-view":this.viewMode="mobile-view",t(e.parent.document.getElementById("vd-platform-view")).animate({width:"480px"},500,"linear")}},onSupportChange:function(e,n){return t("#vd-support-dlg").modal("toggle")},getSelectedVisualDesigner:function(){var e=gSelWidget.element;return e?"visual-designer"!=e.data("type")&&(e=t('[data-type="visual-designer"]').first()):e=t('[data-type="visual-designer"]').first(),e},updateClass:function(t){},initWidgetMenu:function(t,e,n,i){var o=t.widgetFullName+"-menu";return this.initMenu(o,e,n,i)},initMenu:function(e,n,i,o){var s=this,a=t('[data-type="'+e+'"]',this.element);return a.length?a:a=t("<div></div>").appendTo(this.element).baseMenu({menuBtns:n,hiddenMenuBtns:o,menuId:e,parent:s,hideOnCreate:i,menuYOffset:t.vdFramework("option","menuYOffset")})},registerWidgetStyle:function(t,e){if(e){if(this.styleContainer.attr("registry").indexOf(e.id)>=0)return!0;try{this.styleContainer[0].innerHTML+=e.content}catch(t){this.styleContainer[0].styleSheet.cssText+=e.content}console.log("MUST UNDO ADD WIDGET STYLE"),this.styleContainer.attr("registry",this.styleContainer.attr("registry")+" "+e.id)}},registerWidgetStyleEx:function(t,e,n,i){if(e){i&&this.unregisterWidgetStyle(n);var o="/***BEGIN-"+n+"***/"+e+"/***END-"+n+"***/";try{this.styleContainer[0].innerHTML+=o}catch(t){this.styleContainer[0].styleSheet.cssText+=o}}},unregisterWidgetStyle:function(t){var e="/***BEGIN-"+t+"***/",n="/***END-"+t+"***/",i=this.styleContainer[0].innerHTML.indexOf(e),o=this.styleContainer[0].innerHTML.indexOf(n);if(i<=-1||o<=-1)return!1;o+=n.length,console.log("MUST HANDLE IE STYLE ELEMENT"),this.styleContainer[0].innerHTML=this.styleContainer[0].innerHTML.substring(0,i)+this.styleContainer[0].innerHTML.substring(o)},addDesignStyle:function(){var e=t('style[data-type="visual-designer-style"]');return e.length>0?(this.styleContainer=e.appendTo(this.element),!0):(this.styleContainer=t("<style></style>").attr("type","text/css").attr("registry","").attr("data-type","visual-designer-style").appendTo(this.element),!0)},getDesignStyle:function(){return this.styleContainer.clone()},showDialogMsg:function(e){var n='<div class="vd-modal vd-fade vd-msg-modal">  <div class="vd-modal-dialog">    <div class="vd-modal-content">      <div class="vd-modal-header">        \x3c!--<button type="button" class="vd-close" data-dismiss="modal">&times;</button>--\x3e        <h1 class="vd-modal-title">'+e.title+'</h1>      </div>      <div class="vd-modal-body vd-text-center">'+e.content+'</div>      <div class="vd-modal-footer">        \x3c!--<button type="button" class="vd-menu-btn vd-btn-block" data-dismiss="modal">Save</button>        <button type="button" class="vd-menu-btn vd-btn-block" data-dismiss="modal">Cancel</button>--\x3e      </div>    </div>  </div></div>';t(n).appendTo(this.element).modal()},addSupportDialog:function(){if(t("#vd-support-dlg",this.element).length>0)return!1;var n=t('<div class="vd-modal vd-fade" id="vd-support-dlg" role="dialog">\r\n    <div class="vd-modal-dialog">\r\n    \r\n      \x3c!-- Modal content--\x3e\r\n      <div class="vd-modal-content">\r\n        <div class="vd-modal-header">\r\n          <button type="button" class="vd-close" data-dismiss="modal">&times;</button>\r\n          <h4><span class="fa fa-support"></span> Support</h4>\r\n        </div>\r\n        <div class="vd-modal-body">\r\n          <form role="form">\r\n\r\n          \t<div class="vd-row">\r\n          \t\t<div class="vd-col-md-6">\r\n          \t\t\t<label for="vd-email"><span class="fa fa-email"></span>@ Email</label>\r\n              \t\t<input required="true" type="email" class="vd-form-control vd-input-lg" name="vd-email" id="vd-email" placeholder="Enter email">\r\n          \t\t</div>\r\n          \t\t<div class="vd-col-md-6">\r\n          \t\t\t<label for="vd-name"><span class="fa fa-user"></span> Name</label>\r\n              \t\t<input required="true" type="text" class="vd-form-control vd-input-lg" name="vd-name" id="vd-name" placeholder="Enter name">\r\n          \t\t</div>\r\n          \t</div>\r\n\r\n            <div class="vd-form-table vd-form-group">\r\n              <label for="vd-support-type"><i class="material-icons">&#xE417;</i> Category</label>\r\n              <select required="true" id="vd-support-type" name="vd-support-type" class="vd-form-control vd-input-lg">\r\n\t\t\t\t<option>About my design</option>\r\n\t\t\t\t<option>About my license</option>\r\n\t\t\t\t<option>Report a bug</option>\r\n\t\t\t\t<option>Other</option>\r\n\t\t\t  </select>\r\n            </div>\r\n            \x3c!-- <div class="vd-form-group">\r\n            \t<span id="helpBlock" class="help-block">A block of help text that breaks onto a new line and may extend beyond one line.</span>\r\n            </div> --\x3e\r\n\r\n            <br/>\r\n\r\n            <div class="vd-form-group">\r\n            \t<textarea required="true" id="vd-message" name="vd-message" class="vd-form-control vd-input-lg" rows="5"></textarea>\r\n            </div>\r\n\r\n            <br/>\r\n\r\n            <div class="vd-bt-container">\r\n            \t<button type="submit" class="vd-menu-btn"><i class="material-icons">&#xE163;</i> Send</button>\r\n\r\n            \t<button type="submit" class="vd-menu-btn" data-dismiss="modal"><i class="material-icons">&#xE14C;</i> Cancel</button>\r\n  </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n      \r\n    </div>\r\n  </div>').appendTo(this.element);t("form",n).submit(function(n){var i=t(this).serialize();i+="&vd-n="+t.vdToken("fa6adraqach25Edr*Kud4sw2ker*5he5")+"&vd-url="+encodeURI(e.location.href),t.ajax({type:"POST",url:"https://soribo.com.au/support.php",data:i,crossDomain:!0,success:function(t){alert("Message sent.")},error:function(t){console.log("Error",t)},complete:function(t){}}),n.preventDefault()})}}),t(n).ready(function(){})}(jQuery,window,document),function(t,e,n,i){t.widget("vd.baseFramework",{options:{},defaults:{maxColumns:5,menuYOffset:"10px",baseWidget:{},rowWidget:{classes:""},columnWidget:{},textWidget:{classes:""},imgWidget:{classes:""},btnWidget:{classes:""},videoWidget:{classes:""},customVDCreate:function(){}},_create:function(){t.extend(!0,this.options,this.defaults,this.options),this.element.attr("data-type","visual-designer-framework"),this.bindTriggers(),this._super("_create")},bindTriggers:function(){return"Derived to implement."},generateMarkup:function(){return"Derived to implement."}})}(jQuery,window,document),function(t){t.widget("vd.baseMenu",{options:{classes:"",menuYOffset:"0px",menuId:"main",menuBtns:[]},_create:function(){var t=this;if(!this.options.menuId)throw"baseMenu must have a unique 'menuId' in options.";this.options.isSubMenu||this.element.addClass("vd-menu-container"),this.element.attr("data-type",this.options.menuId),this.element.addClass(this.options.classes),this.element.addClass("vd-menu-group"),this.element.css("top",this.options.menuYOffset),this._initMenu(),this.element.on("beginSpinBtn",function(e,n){t.beginSpinBtn(n)}),this.element.on("endSpinBtn",function(e,n){t.endSpinBtn(n)}),gFramework.trigger("vdOnCreateMenu",{menu:this}),this._super("_create"),this.options.hideOnCreate||this.show()},_sortBtns:function(){var e=this,n=(e.element,e.options.menuBtns);e.sortedBtns=[];var i=function(e,n){n.name=e,n.index||(n.index=9999),t.each(n.subMenu,i)};return t.each(n,function(t,n){i(t,n),e.sortedBtns.push([n,n.index])}),e.sortedBtns.sort(function(t,e){return t[1]-e[1]}),!0},_createBtn:function(e,n,i,o){var s=t("<a></a>").attr("href","#").attr("type","button").attr("data-toggle","popover").attr("data-trigger","hover").attr("data-placement","bottom").addClass("vd-menu-btn").addClass(o).appendTo(e).popover();t("<i></i>").addClass("vd-icon material-icons").attr("aria-hidden","true").html(n).appendTo(s);return t.each(i,function(t,e){s.attr(t,e)}),s},_initMenu:function(){var e=this,n=this.element;if(e._sortBtns(),e.options.isSubMenu){var i=e._createBtn(n,"&#xE5CE;",{"vd-name":"back","vd-type":"back","vd-sub-menu":e.options.parent,"data-content":"Back to parent menu"},"vd-back-menu-btn");i.click(function(t){e.showOtherMenu(t,i)})}else n=t("<div></div>").attr("vd-menu",this.options.menuId).addClass("vd-main-menu vd-menu vd-btn-group vd-btn-group-lg").appendTo(e.element);t.each(e.sortedBtns,function(i,o){o=o.constructor===Array?o[0]:o;var s=e._createBtn(n,o.icon,{"vd-name":o.name,"vd-type":o.type,"data-content":o.popupText});-1!=jQuery.inArray(o.name,e.options.hiddenMenuBtns)&&(console.log("Hiding",o.name+" "+e.options.menuId),s.css("display","none")),void 0!==o.callback&&s.click(function(t){if(t.preventDefault(),gSelWidget&&gSelWidget.isProcessing)return console.log("Cant perform operation because gSelWidget.isProcessing"),!1;return o.element?o.element():gSelWidget.element,o.callback.call(gSelWidget,s,o),!1});var a=void 0!==o.subMenu,r=void 0!==o.input&&!o.disableDefault,d=n.closest(".vd-menu-container");if(a){s.attr("vd-sub-menu",o.name),s.click(function(t){e.showOtherMenu(t,s)});t("<div></div>").appendTo(d).baseMenu({menuBtns:o.subMenu,defMenuBtns:{},hiddenMenuBtns:e.options.hiddenMenuBtns,menuId:o.name,classes:"vd-sub-menu vd-menu vd-btn-group vd-btn-group-lg",parent:e.options.menuId,hideOnCreate:!0,menuYOffset:t.vdFramework("option","menuYOffset"),isSubMenu:!0}).attr("vd-menu",o.name)}else r&&(s.attr("vd-sub-menu",o.name),s.click(function(t){e.showOtherMenu(t,s)}),e.insertInput(d,e.options.menuId,o.name,o.input))})},insertInput:function(e,n,i,o){var s="inputWidget",a={menuId:i,parent:n,hideOnCreate:!0,menuYOffset:t.vdFramework("option","menuYOffset")};switch((o=t.extend({},a,o)).type){case"textarea":s="textareaInputWidget";break;case"multi-text-input":s="multiTextInputWidget";break;case"radio-btn-input":s="radioBtnWidget";break;case"bk-img-input":s="bkImgInputWidget";break;case"link-input":s="linkInputWidget";break;case"slider":s="sliderWidget";break;case"dropdown":s="dropdownWidget";break;case"font-family-input":s="fontFamilyWidget";break;case"font-size-input":s="fontSizeWidget";break;case"border-input":s="borderInputWidget"}t("<div></div>").appendTo(e).attr("vd-menu",i)[s](o)},showOtherMenu:function(e,n){e.preventDefault();var i='[vd-menu="'+n.attr("vd-sub-menu")+'"]';n.parent().hide(),t(i,n.closest(".vd-menu-container")).show().trigger("showInput")},show:function(){t(".vd-manager-menu .vd-main-menu").show(),t(".vd-sub-menu",this.element).hide(),t(".vd-menu-group").hide(),t(".vd-main-menu",this.element).show(),this.element.show(),gFramework.trigger("vdOnShowMenu",{menu:this})},hide:function(){this.element.removeClass("vd-menu-select vd-menu-hover"),this.element.hide(),t(".vd-input-widget",this.element).trigger("hideInput")},addComponentBtn:function(e){var n=function(){var n=t(e.component).clone().appendTo(this.element).componentWidget();return gFramework.trigger("vdOnAddComponentWidget",{parent:this,widget:n}),n};this._createBtn(t(".vd-main-menu",this.element),"&#xE80E;",{"vd-name":"new-component","vd-type":"on-the-fly-component"}).click(function(t){t.preventDefault(),n.call(gSelWidget)})},beginSpinBtn:function(e){var n=t(".vd-icon",e);n.attr("vd-icon",n.html()),n.html("&#xE86A;"),n.addClass("anim-spin")},endSpinBtn:function(e){var n=t(".vd-icon",e);n.html(n.attr("vd-icon")),n.attr("vd-icon",""),n.removeClass("anim-spin")}})}(jQuery),function(t){t.widget("vd.baseWidget",{options:{},defaults:{width:"10%",height:"10%",classes:"vd-widget",undoCreation:!0,hiddenMenuBtns:[],menuBtns:{link:{index:994,icon:"&#xE157;",popupText:"Link",input:{type:"link-input",icon:"&#xE157;",placeholder:"http://",popupText:"Toggle link",callback:function(t,e){return this.onAnchorChange(t,e)},show:function(){var e=this.selection?this.selection():this.target,n=t("a:first",e);return!n||n.length<=0?null:{url:n.attr("href"),target:n.attr("target")}}}},style:{index:995,icon:"&#xE41D;",popupText:"Style",subMenu:{colour:{index:1,icon:"&#xE23C;",popupText:"Foreground colour",input:{type:"text",icon:"&#xE23C;",placeholder:"#123abc",popupText:"Set foreground colour",callback:function(t,e){return this.onForeColourChange(t,e)},show:function(){return this.target.css("color")}}},"background-colour":{index:1,icon:"&#xE23A;",popupText:"Background colour",input:{type:"text",icon:"&#xE23A;",placeholder:"#123abc",popupText:"Set background colour",callback:function(t,e){return this.onBackColourChange(t,e)},show:function(){return this.target.css("background-color")}}},"background-image":{index:2,icon:"&#xE3B6;",popupText:"Background image",input:{type:"bk-img-input",icon:"&#xE3B6;",placeholder:"/images/foo.png",popupText:"Set background image properties",callback:function(t,e){return this.onBkImgChange(t,e)}}},margin:{index:3,icon:"&#xE915;",popupText:"Margin",input:{type:"multi-text-input",icon:"&#xE915;",popupText:"Set margin",buttons:{"margin-top":{name:"top",placeholder:"top",tooltip:"Margin Top",dblClick:'[name="margin-bottom"]'},"margin-bottom":{name:"bottom",placeholder:"bottom",tooltip:"Margin Bottom",dblClick:'[name="margin-top"]'},"margin-left":{name:"left",placeholder:"left",tooltip:"Margin Left",dblClick:'[name="margin-right"]'},"margin-right":{name:"right",placeholder:"right",tooltip:"Margin Right",dblClick:'[name="margin-left"]'}},callback:function(t,e){return this.onMarginChange(t,e)},show:function(){var t=this;return{"margin-top":t.target.css("margin-top"),"margin-bottom":t.target.css("margin-bottom"),"margin-left":t.target.css("margin-left"),"margin-right":t.target.css("margin-right")}}}},padding:{index:4,icon:"&#xE8D4;",popupText:"Padding",input:{type:"multi-text-input",icon:"&#xE8D4;",placeholder:"20px 10px",popupText:"Set padding",buttons:{"padding-top":{placeholder:"top",tooltip:"Padding Top",dblClick:'[name="padding-bottom"]'},"padding-bottom":{placeholder:"bottom",tooltip:"Padding Bottom",dblClick:'[name="padding-top"]'},"padding-left":{placeholder:"left",tooltip:"Padding Left",dblClick:'[name="padding-right"]'},"padding-right":{placeholder:"right",tooltip:"Padding Right",dblClick:'[name="padding-left"]'}},callback:function(t,e){return this.onPaddingChange(t,e)},show:function(){var t=this;return{"padding-top":t.target.css("padding-top"),"padding-bottom":t.target.css("padding-bottom"),"padding-left":t.target.css("padding-left"),"padding-right":t.target.css("padding-right")}}}},border:{index:5,icon:"&#xE22F;",popupText:"Border",input:{type:"border-input",icon:"&#xE22F;",popupText:"Set border widths",buttons:{"border-top-width":{placeholder:"top",tooltip:"Border Width Top",dblClick:'[name="border-bottom-width"]'},"border-bottom-width":{placeholder:"bottom",tooltip:"Border Width Bottom",dblClick:'[name="border-top-width"]'},"border-left-width":{placeholder:"left",tooltip:"Border Width Left",dblClick:'[name="border-right-width"]'},"border-right-width":{placeholder:"right",tooltip:"Border Width Right",dblClick:'[name="border-left-width"]'}},callback:function(t,e){return this.onBorderChange(t,e)},show:function(){var t=this;return{"border-top-width":t.target.css("border-top-width"),"border-bottom-width":t.target.css("border-bottom-width"),"border-left-width":t.target.css("border-left-width"),"border-right-width":t.target.css("border-right-width"),"border-style":t.target.css("border-style"),"border-color":t.target.css("border-color")}}}},"box-shadow":{index:6,icon:"&#xE883;",popupText:"Shadow",input:{icon:"&#xE883;",type:"textOptions-input",popupText:"Set shadow",callback:function(t,e){return this.onShadowChange(t,e)},show:function(){return this.target.css("box-shadow")}}},"toggle-circle":{index:6,icon:"&#xE8AB;",popupText:"Toggle circular border",callback:function(t,e){return this.onToggleCircleBorder(t,e)}},align:{index:7,icon:"&#xE234;",popupText:"Align content",input:{type:"radio-btn-input",buttons:{"align-left":{name:"left",popupText:"Left",icon:"&#xE236;"},"align-center":{name:"center",popupText:"Center",icon:"&#xE234;"},"align-right":{name:"right",popupText:"Right",icon:"&#xE237;"}},callback:function(t,e){return this.onAlignChange(t,e)},show:function(){return this.target.css("text-align")}}},"set-style":{index:8,icon:"&#xE40A;",popupText:"Style",input:{type:"textarea",icon:"&#xE40A;",placeholder:"color: #000; font-size: 1rem;",popupText:"Set custom css",tooltip:"Enter CSS here",callback:function(t,e){return this.onStyleChange(t,e)},show:function(){return this.target.attr("style")}}}}},seo:{index:996,icon:"&#xE894;",popupText:"SEO",subMenu:{"alt-text":{index:1,icon:"&#xE894;",popupText:"Alternate Text",callback:function(t,e){return this.onSEOValidate(t,e)}}}},"create-component":{index:997,icon:"&#xE8FC;",popupText:"Turn inner contents into a component",callback:function(t,e){return this.onCreateComponent(t,e)}},clone:{index:998,icon:"&#xE14D;",popupText:"Clone",callback:function(t,e){return this.onClone(t,e)}},trash:{index:999,icon:"&#xE872;",popupText:"Trash",callback:function(t,e){return this.onTrash(t,e)}}},widgetTypes:{"vd-text-widget":["textWidget","textWidget"],"vd-img-widget":["imgWidget","imgWidget"],"vd-video-widget":["videoWidget","videoWidget"],"vd-btn-widget":["btnWidget","btnWidget"],"vd-column-widget":["columnWidget","columnWidget"],"vd-row-widget":["rowWidget","rowWidget"],"vd-component-widget":["componentWidget","componentWidget"],"vd-section-widget":["sectionWidget","sectionWidget"],"vd-icon-widget":["iconWidget","iconWidget"],"vd-html-widget":["htmlWidget","htmlWidget"],"vd-container-widget":["containerWidget","containerWidget"]}},target:null,sortContainer:null,isProcessing:!1,_create:function(){var e=this;t.extend(!0,e.options,e.defaults,t.vdFramework("option","baseWidget"),t.vdFramework("option",e.widgetName),e.options),e.element.attr("id")||e.element.uniqueId(),e.target||(e.target=e.element),e.element.data("widgetName",e.widgetName),e.element.addClass("vd-widget"),e.element.addClass(e.options.classes),gManager.visualDesignerManager("initWidgetMenu",e,e.options.menuBtns,e.options.hideOnCreate,e.options.hiddenMenuBtns),gManager.visualDesignerManager("registerWidgetStyle",e,e.options.style),e._update(),e.element.hover(function(t){t.target==this&&e.hover(t)},function(t){}),e.element.click(function(t){t.stopPropagation(),e.select(t)}),e._initialiseSubWidgets(),e.disableAnchors(),e.sortContainer&&e.element.sortable({connectWith:e.sortContainer,handle:".vd-widget-tag-container",placeholder:"vd-sortable-placeholder",forcePlaceholderSize:!0,helper:"clone",forceHelperSize:!0,tolerance:"pointer",revert:!0}),gFramework.trigger("vdOnCreateWidget",{widget:e}),e.options.undoCreation&&t.undoWidget("registerUndo",[{action:"add",target:e.element}])},_update:function(){},_setOption:function(t,e){this._super("_setOption",t,e),gFramework.trigger("vdOnSetWidgetOption",{widget:this,key:t,value:e})},_initialiseSubWidgets:function(){var e=this;t.each(e.options.widgetTypes,function(n,i){var o=i[0];t("."+n,e.element)[o]({preserveContent:!0,undoCreation:!1})})},select:function(e){t.vdWidget(gSelWidget.element,"deselect",e),gSelWidget=this,t(".vd-widget-tag-container").remove(),t(".vd-menu-select").baseMenu("hide"),t(".vd-widget-hover").removeClass("vd-widget-hover"),t(".vd-widget-selected").removeClass("vd-widget-selected"),t('[data-type="'+this.widgetFullName+'-menu"]',gManager.element).baseMenu("show","select"),this.showTag(),this.element.addClass("vd-widget-selected")},deselect:function(t){console.log("base::deselect")},hover:function(e){e&&e.stopPropagation(),gSelWidget!=this&&(gHoverWidget=this,t(".vd-widget-hover").removeClass("vd-widget-hover"),this.element.addClass("vd-widget-hover"))},showTag:function(){var e=this,n=this.parent();e.tag=t('<div class="vd-widget-tag-container"></div>').attr("contenteditable","false").prependTo(this.element);t('<a class="vd-widget-tag"><span>'+e.widgetName+"</span></a>").click(function(t){t.preventDefault(),e.select()}).appendTo(e.tag);if(n.length>0)t('<a href="#" type="button" data-toggle="popover" data-trigger="hover" data-placement="bottom" data-content="Select parent widget" class="vd-tag-parent-btn" data-original-title="" title=""><i class="vd-icon material-icons" aria-hidden="true">&#xE5CE;</i></a>').click(function(e){e.preventDefault(),e.stopPropagation(),t.vdWidget(n,"select")}).hover(function(e){t.vdWidget(n,"hover")},function(e){t(".vd-widget-hover").removeClass("vd-widget-hover")}).appendTo(e.tag);e.tag.css({right:0,top:-1*e.tag.outerHeight()-3})},parent:function(){return this.element.parents(".vd-widget").first()},createComponent:function(){var e=t(this.element.html()).clone(),n=t("<div></div>").append(e);t('[data-type="'+gSelWidget.widgetFullName+'-menu"]',gManager).baseMenu("addComponentBtn",{component:n})},cloneWidget:function(){var e=this.element.clone().insertAfter(this.element).removeUniqueId().uniqueId();t(".vd-widget",e).removeUniqueId().uniqueId();var n=t.vdFramework("option",this.widgetName),i=jQuery.extend(!0,{preserveContent:!0},n);e[this.widgetName](i)},disableAnchors:function(){t('a:not([vd-preserve="true"])',this.element).click(function(t){t.preventDefault(),t.stopPropagation()})},toggleAnchor:function(t,e,n){console.log("TODO","integrate undo functionality into ::toggleAnchor()"),n||(n=this.target);var i=n.children().length>0;if("a"!=(i?n.children(":first").prop("tagName").toLowerCase():n.prop("tagName").toLowerCase())){console.log("is NOT anchor"),i?n.children().wrapAll("<a></a>"):n.wrapInner("<a></a>");var o=n.children("a").first();return t&&o.attr("href",t),e&&o.attr("target",e),this.disableAnchors(),o}console.log("is anchor"),n.children(":first").children().appendTo(n),this.trashElement(n.children(":first"))},addRow:function(e,n){n=n||this.target;var i=t("<div></div>").appendTo(n).rowWidget(e);return gFramework.trigger("onAddRow",{widget:this,rowWIdget:i}),t.vdWidget(i,"select"),i},trashElement:function(e,n){var i=t.undoWidget("initialiseUndo",{action:"trash",target:e});n||t.undoWidget("registerUndo",[i]);var o=this.parent();return t(e).appendTo(t.undoWidget()),t.vdWidget(o,"select"),i},styleElement:function(e,n,i,o){console.log("TODO: make undo widget create and return an undo op"),console.log("ele",e);var s=t.undoWidget("initialiseUndo",{action:"style",target:e});return o||t.undoWidget("registerUndo",[s]),t(e).css(n,i),s},addClassElement:function(e,n,i){var o=t.undoWidget("initialiseUndo",{action:"class",target:e});return i||t.undoWidget("registerUndo",[o]),t(e).addClass(n),o},removeClassElement:function(e,n,i){var o=t.undoWidget("initialiseUndo",{action:"class",target:e});return i||t.undoWidget("registerUndo",[o]),t(e).removeClass(n),o},attributeElement:function(e,n,i,o){var s=t.undoWidget("initialiseUndo",{action:"attr",target:e,attr:n});return o||t.undoWidget("registerUndo",[s]),t(e).attr(n,i),s},trash:function(t){return this.trashElement(this.element,t)},style:function(t,e,n){return this.styleElement(this.target,t,e,n)},attribute:function(t,e,n){return this.attributeElement(this.target,t,e,n)},addClass:function(t,e){return this.addClassElement(this.target,t,e)},removeClass:function(t,e){return this.removeClassElement(this.target,t,e)},type:function(e,n,i){var o=t.undoWidget("initialiseUndo",{action:"type",target:e});return e=t(e).changeElementType(n),o.target=e,i?{element:e,undoOp:o}:(t.undoWidget("registerUndo",[o]),e)},onAnchorChange:function(t,e){var n=this.selection?this.selection():this.target;this.toggleAnchor(t.url,t.target,n)},onForeColourChange:function(t,e){var n=this.selection?this.selection():this.target;this.styleElement(n,"color",t)},onBackColourChange:function(t,e){var n=this.selection?this.selection():this.target;this.styleElement(n,"background-color",t)},onBkImgChange:function(t,e){t.position?this.style("background-position",t.position):t.size?this.style("background-size",t.size):t.attachment?this.style("background-attachment",t.attachment):t.src&&this.style("background-image",'url("'+t.src+'")')},onPaddingChange:function(e,n){var i=this;t.each(e,function(t,e){i.style(t,e)})},onMarginChange:function(e,n){var i=this;t.each(e,function(t,e){i.style(t,e)})},onBorderChange:function(e,n){var i=this;t.each(e,function(t,e){i.style(t,e)})},onShadowChange:function(t,e){this.styleElement(this.element,"box-shadow",t)},onToggleCircleBorder:function(t,e){var n=this.target,i="50%";console.log("rad",n.css("border-radius")),"50%"==n.css("border-radius")&&(i="0"),this.styleElement(n,"border-radius",i,!0)},onAlignChange:function(t,e){this.styleElement(this.element,"text-align",t)},onStyleChange:function(t,e){this.attribute("style",t)},onSEOValidate:function(e,n){t.vdManager("showDialogMsg",{title:"Feature incoming...",content:"<p>SEO functionality coming soon.</p>"})},onCreateComponent:function(t,e){this.createComponent()},onClone:function(t,e){this.cloneWidget()},onTrash:function(t,e){this.trash()}})}(jQuery),function(t){t.widget("vd.structuralWidget",t.vd.baseWidget,{name:"vd-structural-widget",sortContainer:".vd-content-widget",_create:function(){this.element.addClass("vd-structural-widget vd-content-widget"),gFramework.trigger("vdOnCreateStructuralWidget",{widget:this}),this._super("_create")},select:function(e){t.vd.baseWidget.prototype.select.call(this,e),this.element.children().not(".vd-widget-tag-container").length<=0&&this.element.css("min-height","200px")},deselect:function(e){t.vd.baseWidget.prototype.deselect.call(this,e),this.element.children().not(".vd-widget-tag-container").length<=0||this.element.css("min-height","")}})}(jQuery),function(t){t.widget("vd.columnWidget",t.vd.structuralWidget,{name:"vd-col-widget",options:{classes:"",menuBtns:{"add-text-widget":{index:1,icon:"&#xE264;",popupText:"Add text",autoPreview:!0,callback:function(t,e){return this.onAddTextWidget(t,e)}},"add-image-widget":{index:2,icon:"&#xE251;",popupText:"Add image",autoPreview:!0,callback:function(t,e){return this.onAddImgWidget(t,e)}},"add-video-widget":{index:3,icon:"&#xE02C;",popupText:"Add video",autoPreview:!0,callback:function(t,e){return this.onAddVideoWidget(t,e)}},"add-button-widget":{index:4,icon:"&#xE021;",popupText:"Add button",autoPreview:!0,callback:function(t,e){return this.onAddBtnWidget(t,e)}},"add-container":{index:5,icon:"&#xE25E;",popupText:"Add container",callback:function(t,e){return this.onAddContainerWidget(t,e)}},"add-row":{index:6,icon:"&#xE145;",popupText:"Add row",callback:function(t,e){return this.onAddRowWidget(t,e)}},"add-html-widget":{index:7,icon:"code",popupText:"Add HTML",autoPreview:!0,callback:function(t,e){return this.onAddHTMLWidget(t,e)}},trash:{callback:function(t,e){return this.trash(t,e)}}},hiddenMenuBtns:["margin"]},sortContainer:".vd-row-widget",_create:function(){if(this.options.preserveContent)this.options.colWidth=this.element.attr("data-col-width");else{if(!this.options.colWidth)return void console.log("Error","ColumnWidget options colWidth not defined");var e=t.vdFramework("option","columnWidget")[this.options.colWidth];this.element.addClass("vd-column-widget"),this.element.addClass(e.classes),this.element.attr("data-col-width",this.options.colWidth)}this.element.addClass("vd-content-widget"),gFramework.trigger("vdOnCreateColumnWidget",{widget:this}),this._super("_create")},_setOption:function(t,e){switch(t){case"width":this.options.width=this._setWidth(e)}this._super("_setOption",t,e)},_setWidth:function(e){e>12&&(e=12);console.log("1",e),gFramework.trigger("vdOnResizeColumnWidget",{widget:this,newWidth:e}),console.log("2"),this.options.colWidth=e,console.log("3",t.vdFramework("option","columnWidget")),console.log("3",t.vdFramework("option","columnWidget")[e]);var n=t.vdFramework("option","columnWidget")[e].classes;return console.log("4"),this.element.addClass(n),console.log("5"),this.element.attr("data-col-width",e),console.log("6"),this.options.colWidth},onAddTextWidget:function(e,n){var i=t("<div><p><span></span></p></div>").appendTo(this.element).textWidget().textWidget("setText","Visual Designer");return gFramework.trigger("onColumnAddTextWidget",{column:this,widget:i}),t.vdWidget(i,"select"),i},onAddImgWidget:function(e,n){var i=t("<div><img></img></div>").appendTo(this.element).imgWidget();return gFramework.trigger("onColumnAddImgWidget",{column:this,widget:i}),t.vdWidget(i,"select"),i},onAddBtnWidget:function(e,n){var i=t('<div><a href=""><span></span></a></div>').appendTo(this.element).btnWidget().btnWidget("setText","Press Me");return gFramework.trigger("onColumnAddBtnWidget",{column:this,widget:i}),t.vdWidget(i,"select"),i},onAddRowWidget:function(t,e){this.addRow()},onAddContainerWidget:function(e,n){var i=t("<div></div>").appendTo(this.element).containerWidget();return gFramework.trigger("onColumnAddcontainerWidget",{column:this,widget:i}),t.vdWidget(i,"select"),i},onAddVideoWidget:function(e,n){var i=t("<div><video></video></div>").appendTo(this.element).videoWidget();return gFramework.trigger("onColumnAddVideoWidget",{column:this,widget:i}),t.vdWidget(i,"select"),i},onAddHTMLWidget:function(e,n){var i=t("<div></div>").appendTo(this.element).htmlWidget();return gFramework.trigger("onColumnAddHtmlWidget",{column:this,widget:i}),t.vdWidget(i,"select"),i},trash:function(e,n){this.element;var i=0;if(this.element.nextAll().each(function(){i+=parseInt(t(this).columnWidget("option","colWidth"),10)}),!i||i%12!=0){var o=t(this.element).prev(".vd-column-widget"),s=t(this.element).next(".vd-column-widget"),a=0===o.length?s:o;o.length&&parseInt(o.columnWidget("option","colWidth"),10)>=12&&s.length&&(a=s);var r=parseInt(a.columnWidget("option","colWidth"),10)+parseInt(this.options.colWidth,10);a.columnWidget("option","width",r)}this._super("trash")}})}(jQuery),function(t){t.widget("vd.componentWidget",t.vd.structuralWidget,{name:"vd-component-widget",sortContainer:".vd-content-widget",options:{classes:""},_create:function(){this.element.addClass("vd-component-widget vd-content-widget"),gFramework.trigger("vdOnCreateComponentWidget",{widget:this}),this._super("_create")}})}(jQuery),function(t){t.widget("vd.containerWidget",t.vd.columnWidget,{name:"vd-container-widget",options:{classes:"",hiddenMenuBtns:[]},sortContainer:".vd-column-widget",_create:function(){this.element.addClass("vd-container-widget vd-content-widget"),gFramework.trigger("vdOnCreateContainerWidget",{widget:this}),t.vd.baseWidget.prototype._create.call(this)}})}(jQuery),function(t){t.widget("vd.htmlWidget",t.vd.structuralWidget,{name:"vd-html-widget",options:{classes:"",menuBtns:{html:{index:1,icon:"&#xE86F;",popupText:"HTML",input:{type:"textarea",placeholder:"<p>foo</p>",popupText:"Apply html",tooltip:"Enter HTML here",icon:"&#xE86F;",callback:function(t,e){return this.onHTMLChange(t,e)},show:function(){return this.html}}},css:{index:1,icon:"&#xE40A;",popupText:"CSS",input:{type:"textarea",placeholder:"color: #000; font-size: 1rem;",popupText:"Apply css",tooltip:"Enter CSS here",icon:"&#xE40A;",callback:function(t,e){return this.onCSSChange(t,e)},show:function(){return this.css}}}},hiddenMenuBtns:["link","style","create-component"]},_create:function(){this.element.addClass("vd-html-widget vd-bootstrap"),this.html=this.element.html(),gFramework.trigger("vdOnCreateHtmlWidget",{widget:this}),this._super("_create")},onHTMLChange:function(t,e){this.html=t,this.element.html(t)},onCSSChange:function(t,e){this.css=t,gManager.visualDesignerManager("registerWidgetStyleEx",this,t,this.element.attr("id"),!0)}})}(jQuery),function(t){t.widget("vd.iconWidget",t.vd.baseWidget,{name:"vd-icon-widget",options:{classes:"",wildcard:"fa-",menuBtns:{icon:{index:1,icon:"&#xE24E;",popupText:"Icon",input:{type:"text",icon:"&#xE24E;",placeholder:"fa-fonticons",popupText:"Set icon",tooltip:"Enter Font Awesome icon name",callback:function(t,e){return onIconChange(t,e)},show:function(){return this.target.clone().children().remove().end().text()}}},"font-size":{index:2,icon:"&#xE85B;",popupText:"Size",input:{type:"font-size-input",icon:"&#xE85B;",popupText:"Set size",placeholder:"1.5rem",callback:function(t,e){return onFontSizeChange(t,e)},show:function(){var t=this.target;return{"font-size":t.css("font-size"),units:t.attr("vd-font-units")}}}},"toggle-position":{index:3,icon:"&#xE8AB;",popupText:"Toggle icon position",callback:function(t,e){return onTogglePosition(t,e)}}},hiddenMenuBtns:["create-component","align"]},_create:function(){this.element.addClass("vd-icon-widget"),this.element.addClass(this.options.classes),this.element.data("aria-hidden","true"),this.target=t("i",this.element),this.options.preserveContent||(this.target.addClass("material-icons"),this.target.html("code")),gFramework.trigger("vdOnCreateIconWidget",{widget:this}),this._super("_create")},toggleAnchor:function(t,e,n){return console.log("derived",this.element),this._super(t,e,this.element)},onIconChange:function(t,e){this.target.text(value)},onFontSizeChange:function(e,n){var i=[],o=this.target,s=e.size+e.units;i.push(this.styleElement(o,"font-size",s,!0)),i.push(this.styleElement(o,"line-height","normal",!0)),i.push(this.attributeElement(o,"vd-font-units",e.units,!0)),t.undoWidget("registerUndo",i)},onTogglePosition:function(t,e){var n=this.element.prev();this.element.next();!n||n.length<=0?this.element.parent().append(this.element):this.element.parent().prepend(this.element)}})}(jQuery),function(t){t.widget("vd.imgWidget",t.vd.baseWidget,{name:"vd-img-widget",options:{classes:"",source:"http://www.visualdesigner.io/wp-content/uploads/2017/10/cropped-Generic1-2.png",menuBtns:{src:{index:1,icon:"&#xE251;",popupText:"Image"},aspect:{index:2,icon:"&#xE85B;",popupText:"Aspect",input:{type:"slider",icon:"&#xE85B;",popupText:"Set aspect",value:1,min:1,max:100,step:2,callback:function(t,e){return this.onAspectChange(t,e)},show:function(){return this.element.attr("vd-width")}}}},hiddenMenuBtns:["colour","create-component"]},sortContainer:".vd-column-widget",_create:function(){this.target=t("img",this.element).first(),this.element.addClass("vd-img-widget"),this.options.preserveContent||(console.log("CHANGE TO USE this.attribute()"),this.img().attr("src",this.options.source),this.img().attr("alt","My website has V.D...it's actually pretty good :D"),this.img().addClass("vd-img-full-w")),gFramework.trigger("vdOnCreateImgWidget",{widget:this}),this._super("_create")},img:function(){return this.element.children(":first")},onAspectChange:function(t,e){this.styleElement(this.target,"width",t.slider+"%"),this.attribute("vd-width",t.slider)}})}(jQuery),function(t){t.widget("vd.rowWidget",t.vd.structuralWidget,{name:"vd-row-widget",options:{classes:"",hiddenMenuBtns:["margin"]},sortContainer:".vd-row-widget",_create:function(){this.element.addClass("vd-row-widget"),gFramework.trigger("vdOnCreateRowWidget",{widget:this}),this._super("_create")},addColumns:function(e){var n=this.element;t.each(e,function(e,i){t("<div></div>").appendTo(n).columnWidget({colWidth:i})}),gFramework.trigger("onRowAddColumns",{widget:this})}})}(jQuery),function(t){t.widget("vd.sectionWidget",t.vd.structuralWidget,{name:"vd-section-widget",options:{classes:"",menuBtns:{"add-row":{index:1,icon:"&#xE145;",popupText:"Add row",autoPreview:!0,callback:function(t,e){return this.onAddRowChange(t,e)}}},hiddenMenuBtns:["margin","padding"]},sortContainer:".vd-section-widget",_create:function(){if(this.element.addClass("vd-section-widget"),!this.options.preserveContent){var e=t('<div class="vd-section-container vd-container-fluid"></div>').appendTo(this.element);this.addRow({},e)}gFramework.trigger("vdOnCreateSectionWidget",{widget:this}),this._super("_create")},onAddRowChange:function(e,n){this.addRow({},t(".vd-section-container",this.element))}})}(jQuery),function(t){t.widget("vd.textWidget",t.vd.baseWidget,{name:"vd-text-widget",options:{classes:"vd-text-widget",menuBtns:{list:{index:3,icon:"&#xE241;",popupText:"To list",autoPreview:!0,callback:function(t,e){return this.toList(t,e)},preview:function(t){}},header:{index:4,icon:"H",popupText:"To header",input:{type:"slider",icon:"H",popupText:"Set header type",value:1,min:1,max:7,step:1,callback:function(t,e){return this.onHeaderChange(t,e)},show:function(){switch(this.element.attr("vd-text-type")){case"p":return 1;case"h6":return 2;case"h5":return 3;case"h4":return 4;case"h3":return 5;case"h2":return 6;case"h1":return 7;default:return 1}}}},font:{index:5,icon:"&#xE167;",popupText:"Font family",input:{type:"font-family-input",icon:"&#xE167;",tooltip:"Font Family",popupText:"Set font",dropdownOptions:[{name:"Arial",display:"Arial"},{name:"Arial Black",display:"Arial Black"},{name:"Tahoma",display:"Tahoma"},{name:"Trebuchet",display:"Trebuchet"},{name:"Verdana",display:"Verdana"},{name:"Century Gothic",display:"Century Gothic"},{name:"Geneva",display:"Geneva"},{name:"Lucida",display:"Lucida"},{name:"Lucida Sans",display:"Lucida Sans"},{name:"Lucida Grande",display:"Lucida Grande"},{name:"courier",display:"courier"},{name:"Courier New",display:"Courier New"},{name:"Georgia",display:"Georgia"},{name:"Times",display:"Times"},{name:"Times New Roman",display:"Times New Roman"}],callback:function(t,e){return this.onFontFamilyChange(t,e)},show:function(){return this.selection().css("font-family")}}},"font-size":{index:6,icon:"&#xE245;",popupText:"Font size",input:{type:"font-size-input",icon:"&#xE245;",popupText:"Set font size",placeholder:"1.5rem",callback:function(t,e){return this.onFontSizeChange(t,e)},show:function(){var t=this.selection();return{"font-size":t.css("font-size"),units:t.attr("vd-font-units")}}}},bold:{index:7,icon:"&#xE238;",popupText:"Bold",autoPreview:!0,callback:function(t,e){return this.onBoldChange(t,e)}},italic:{index:8,icon:"&#xE23F;",popupText:"Italic",autoPreview:!0,callback:function(t,e){return this.onItalicChange(t,e)}},underline:{index:8,icon:"&#xE249;",popupText:"Bold",autoPreview:!0,callback:function(t,e){return this.onUnderlineChange(t,e)}},icon:{index:9,icon:"&#xE24E;",popupText:"Add icon",callback:function(t,e){return this.onAddIcon(t,e)}}},hiddenMenuBtns:["create-component"]},sortContainer:".vd-text-widget",_create:function(){var t=this;this.element.addClass("vd-text-widget"),void 0==this.element.attr("vd-text-type")&&this.setSubType(this.element.children(":first").prop("tagName")),this.target=this.subElement(),this.subElement().attr("contenteditable","true"),this.element.on("focus",function(e){t.select(e)}),this.element.on("paste",function(e){e.preventDefault();var n=e.originalEvent.clipboardData.getData("text/plain");document.execCommand("insertHTML",!1,n),t.select(e)}),this.element.keydown(function(e){if("ul"!=t.element.attr("vd-text-type")&&13===e.keyCode)return document.execCommand("insertHTML",!1,"<br><br>"),!1}),gFramework.trigger("vdOnCreateTextWidget",{widget:this}),this._super("_create")},setText:function(e){t("span",this.element).first().text(e)},subElement:function(){return t(this.element.attr("vd-text-type"),this.element).not(".vd-widget-tag")},setSubType:function(t,e){return this.attributeElement(this.element,"vd-text-type",(t+"").toLowerCase(),e)},selection:function(){if(window.getSelection().toString()<=0)return this.subElement();var e=window.getSelection().getRangeAt(0),n=e.extractContents(),i=document.createElement("span");return i.appendChild(n),e.insertNode(i),t(i)},onHeaderChange:function(t,e){switch(t.slider){case 1:return this.toParagraph();case 2:return this.toHeader("h6");case 3:return this.toHeader("h5");case 4:return this.toHeader("h4");case 5:return this.toHeader("h3");case 6:return this.toHeader("h2");case 7:return this.toHeader("h1")}},onFontFamilyChange:function(t,e){this.styleElement(this.selection(),"font-family",t)},onFontSizeChange:function(e,n){var i=[],o=this.selection(),s=e.size+e.units;i.push(this.styleElement(o,"font-size",s,!0)),i.push(this.styleElement(o,"line-height","normal",!0)),i.push(this.attributeElement(o,"vd-font-units",e.units,!0)),t.undoWidget("registerUndo",i)},onBoldChange:function(t,e){this.styleElement(this.selection(),"font-weight","bold")},onItalicChange:function(t,e){var n=this.selection(),i="italic"==n.css("font-style")?"normal":"italic";this.styleElement(n,"font-style",i)},onUnderlineChange:function(t,e){this.styleElement(this.selection(),"text-decoration","underline")},onAddIcon:function(e,n){var i=t("<span><i></i></span>").appendTo(this.subElement()).iconWidget();return gFramework.trigger("onTextAddIconWidget",{column:this,widget:i}),t.vdWidget(i,"select"),i},toList:function(){var e=[];switch(this.element.attr("vd-text-type")){case"ul":return this.toParagraph();case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":var n=this.type(this.subElement(),"ul",!0);e.push(n.undoOp);var i=n.element.wrapInner("<li></li>");e.push({action:"add",target:i}),e.push(this.setSubType("ul",!0)),t.undoWidget("registerUndo",e),this.target=this.subElement()}},toHeader:function(e){var n=[];switch(this.element.attr("vd-text-type")){case"ul":var i=this;t("li",this.element).each(function(){n.push(i.type(t(this),"span",!0))}),n.push(i.type(this.subElement(),e,!0)),n.push(this.setSubType(e,!0)),t.undoWidget("registerUndo",n),this.target=this.subElement();break;case"p":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":if(this.element.attr("vd-text-type")==e)return this.toParagraph();n.push(this.type(this.subElement(),e,!0).undoOp),n.push(this.setSubType(e,!0)),t.undoWidget("registerUndo",n),this.target=this.subElement()}return null},toParagraph:function(){var e=[];switch(this.element.attr("vd-text-type")){case"ul":var n=this;t("li",this.element).each(function(){e.push(n.type(t(this),"span",!0))}),e.push(n.type(this.subElement(),"p",!0)),e.push(this.setSubType("p",!0)),t.undoWidget("registerUndo",e),this.target=this.subElement();break;case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":e.push(this.type(this.subElement(),"p",!0)),e.push(this.setSubType("p",!0)),t.undoWidget("registerUndo",e),this.target=this.subElement()}}})}(jQuery),function(t){t.widget("vd.btnWidget",t.vd.textWidget,{name:"vd-btn-widget",options:{classes:"",menuBtns:{"toggle-fill":{index:2,icon:"&#xE40F;",popupText:"Toggle fill display",autoPreview:!0,callback:function(t,e){return this.onToggleFillChange(t,e)}}},hiddenMenuBtns:["list","header","seo","create-component"]},_create:function(){this.element.addClass("vd-btn-widget"),gFramework.trigger("vdOnCreateBtnWidget",{widget:this}),this._super("_create")},onToggleFillChange:function(e,n){var i="inline-block",o="&#xE40F;";"block"!=this.target.css("display").toLowerCase()&&(i="block",o="&#xE40E;"),this.style("display",i),t(".vd-icon",e).html(o)}})}(jQuery),function(t){t.widget("vd.videoWidget",t.vd.baseWidget,{name:"vd-video-widget",options:{classes:"",source:"http://www.html5videoplayer.net/videos/toystory.mp4",controls:"true",menuBtns:{src:{index:1,icon:"&#xE04B;",popupText:"Video",callback:function(t,e){return this.onSrcChange(t,e)}},aspect:{index:2,icon:"&#xE85B;",popupText:"Aspect",input:{type:"slider",icon:"&#xE85B;",popupText:"Set aspect",value:1,min:1,max:100,step:2,callback:function(t,e){return this.onAspectChange(t,e)},show:function(){return this.element.attr("vd-width")}}},"toggle-controls":{index:3,icon:"&#xE1B2;",popupText:"Toggle controls",callback:function(t,e){return this.onControlsChange(t,e)}}},hiddenMenuBtns:["link","colour","background-colour","background-image","create-component"]},_create:function(){this.element.addClass("vd-video-widget"),this.target=t("video",this.element),this.options.preserveContent||(this.target.attr("src",this.options.source),this.target.attr("controls",this.options.controls)),t("<source></source>").attr("src",this.options.source).appendTo(this.target),gFramework.trigger("vdOnCreateVideoWidget",{widget:this}),this._super("_create")},onSrcChange:function(t,e){},onAspectChange:function(t,e){this.styleElement(this.target,"width",t.slider+"%"),this.attributeElement(this.element,"vd-width",t.slider)},onControlsChange:function(t,e){this.target.attr("controls")?this.target.removeAttr("controls"):this.target.attr("controls","")}})}(jQuery),function(t,e,n,i){t.widget("vd.visualDesigner",t.vd.structuralWidget,{options:{autoUpdateVD:!0,height:"test",classes:"",undoCreation:!1,menuBtns:{"add-section":{index:1,icon:"&#xE069;",popupText:"Add section",autoPreview:!0,callback:function(t,e){return this.onAddSectionChange(t,e)}},"add-row":{index:1,icon:"&#xE145;",popupText:"Add row",autoPreview:!0,callback:function(t,e){return this.onAddRowChange(t,e)}}},hiddenMenuBtns:["trash","link","clone","create-component"]},sortContainer:".vd-main",_create:function(){t.getVDManager(this.options.framework,this.options.autoUpdateVD),gSelWidget=this,this.element.addClass("vd-main vd-container-fluid"),this.element.addClass(this.options.classes),this.element.height(this.options.height),this.element.attr("data-type","visual-designer"),this.element.parent().hasClass("vd-release")||this.element.wrap('<div class="vd-release"></div>'),this.showTag(),this.options.undoCreation=!1,gFramework.trigger("vdOnCreateDesigner",{widget:this}),this._super("_create"),this.select({})},showTag:function(){if(this.tag)return!0;this._super("showTag"),this.tag.removeClass("vd-widget-tag-container"),this.tag.addClass("visual-designer-tag-container")},export:function(e,n,i){var o=this.element.clone();return e&&(t('[class*="vd-"]',o).each(function(t,e){e.className=e.className.replace(/(\bvd-.*?(?= |$))/g,"")}),o.removeClass("vd-main"),o.removeAttr("data-type")),t(".vd-widget",o).removeAttr("contenteditable"),t(".vd-widget-tag-container",o).remove(),t(".visual-designer-tag-container",o).remove(),o.wrap('<div class="vd-release"></div>'),t.vdManager("getDesignStyle").insertBefore(o),console.log("design",o.parent().prop("outerHTML")),o.parent()},seoValidate:function(e){var n=[];t("img",e).each(function(){var e=t(this);(!e.attr("alt")||e.attr("alt").length<=0)&&n.push(e)})},onAddSectionChange:function(e,n){var i=t("<section></section>").appendTo(this.element).sectionWidget();return gFramework.trigger("onColumnAddSectionWidget",{column:this,widget:i}),t.vdWidget(i,"select"),t("html, body").animate({scrollTop:i.offset().top},500),i},onAddRowChange:function(e,n){var i=this.addRow();t("html, body").animate({scrollTop:i.offset().top},500)}})}(jQuery,window,document),function(t,e,n,i){t.widget("vd.bootstrapTwitterFramework",t.vd.baseFramework,{options:{maxColumns:12,rowWidget:{classes:"vd-row",menuBtns:{"add-column":{index:1,icon:"&#xE5C3;",popupText:"Add columns",buttonColumns:3,subMenu:{"add-1-column":{index:1,popupText:"1 column",icon:"&#xE3D0;",callback:function(){this.addColumns([12])}},"add-2-column":{index:2,icon:"&#xE3D1;",popupText:"2 columns",callback:function(){this.addColumns([6,6])}},"add-3-column":{index:3,icon:"&#xE3D2;",popupText:"3 columns",callback:function(){this.addColumns([4,4,4])}},"add-4-column":{index:4,icon:"&#xE3D4;",popupText:"4 columns",callback:function(){this.addColumns([3,3,3,3])}},"add-5-column":{index:5,icon:"&#xE3D5;",popupText:"5 columns",callback:function(){this.addColumns([2,2,4,2,2])}},"add-6-column":{index:6,icon:"&#xE3D6;",popupText:"6 columns",callback:function(){this.addColumns([2,2,2,2,2,2])}}}}}},columnWidget:{1:{classes:"vd-col-xs-1"},2:{classes:"vd-col-xs-2"},3:{classes:"vd-col-xs-3"},4:{classes:"vd-col-xs-4"},5:{classes:"vd-col-xs-5"},6:{classes:"vd-col-xs-6"},7:{classes:"vd-col-xs-7"},8:{classes:"vd-col-xs-8"},9:{classes:"vd-col-xs-9"},10:{classes:"vd-col-xs-10"},11:{classes:"vd-col-xs-11"},12:{classes:"vd-col-xs-12"},menuBtns:{"add-components":{index:1,icon:"&#xE1BD;",popupText:"Add components",subMenu:{"add-thumbnail-widget":{index:3,icon:"&#xE638;",popupText:"Add card component",autoPreview:!0,callback:function(){var e=t('<div class="vd-bootstrap"><div class="vd-thumbnail">      <div class="vd-img-widget vd-widget" style="text-align: center;"><img src="http://www.visualdesigner.io/wp-content/uploads/2017/10/cropped-Generic1-2.png" alt=""></div>      <div class="vd-caption">        <div class="vd-text-widget vd-widget"><h3>Thumbnail label</h3></div>        <div class="vd-text-widget vd-widget"><p>Cras justo odio, dapibus ac facilisis in, egestas eget quam. Donec id elit non mi porta gravida at eget metus. Nullam id dolor id nibh ultricies vehicula ut id elit.</p></div>        <div class="vd-btn-widget vd-text-widget vd-widget"><a href="#" class="vd-btn vd-btn-primary" role="button"><span>Button</span></a></div></div></div>').appendTo(this.element).componentWidget();return gFramework.trigger("onColumnAddComponentWidget",{column:this,widget:e}),e}},"add-chart":{index:4,icon:"&#xE6C4;",popupText:"Add chart",autoPreview:!0,callback:function(){var e=t('<div class="vd-bootstrap"><div class="progress yellow">    <span class="progress-left">        <span class="progress-bar"></span>    </span>    <span class="progress-right">        <span class="progress-bar"></span>    </span>    <div class="progress-value">75%</div></div></div>').appendTo(this.element).componentWidget({menuBtns:{"set-progress":{index:1,icon:"fa fa-link",callback:function(){alert("Change progress value coming soon")}}},style:{id:"bs-chart",content:'.progress{    width: 150px;    height: 150px;    line-height: 150px;    background: none;    margin: 0 auto;    box-shadow: none;    position: relative;}.progress:after{    content: "";    width: 100%;    height: 100%;    border-radius: 50%;    border: 12px solid #fff;    position: absolute;    top: 0;    left: 0;}.progress > span{    width: 50%;    height: 100%;    overflow: hidden;    position: absolute;    top: 0;    z-index: 1;}.progress .progress-left{    left: 0;}.progress .progress-bar{    width: 100%;    height: 100%;    background: none;    border-width: 12px;    border-style: solid;    position: absolute;    top: 0;}.progress .progress-left .progress-bar{    left: 100%;    border-top-right-radius: 80px;    border-bottom-right-radius: 80px;    border-left: 0;    -webkit-transform-origin: center left;    transform-origin: center left;}.progress .progress-right{    right: 0;}.progress .progress-right .progress-bar{    left: -100%;    border-top-left-radius: 80px;    border-bottom-left-radius: 80px;    border-right: 0;    -webkit-transform-origin: center right;    transform-origin: center right;    animation: loading-1 1.8s linear forwards;}.progress .progress-value{    width: 90%;    height: 90%;    border-radius: 50%;    background: #44484b;    font-size: 24px;    color: #fff;    line-height: 135px;    text-align: center;    position: absolute;    top: 5%;    left: 5%;}.progress.blue .progress-bar{    border-color: #049dff;}.progress.blue .progress-left .progress-bar{    animation: loading-2 1.5s linear forwards 1.8s;}.progress.yellow .progress-bar{    border-color: #fdba04;}.progress.yellow .progress-left .progress-bar{    animation: loading-3 1s linear forwards 1.8s;}.progress.pink .progress-bar{    border-color: #ed687c;}.progress.pink .progress-left .progress-bar{    animation: loading-4 0.4s linear forwards 1.8s;}.progress.green .progress-bar{    border-color: #1abc9c;}.progress.green .progress-left .progress-bar{    animation: loading-5 1.2s linear forwards 1.8s;}@keyframes loading-1{    0%{        -webkit-transform: rotate(0deg);        transform: rotate(0deg);    }    100%{        -webkit-transform: rotate(180deg);        transform: rotate(180deg);    }}@keyframes loading-2{    0%{        -webkit-transform: rotate(0deg);        transform: rotate(0deg);    }    100%{        -webkit-transform: rotate(144deg);        transform: rotate(144deg);    }}@keyframes loading-3{    0%{        -webkit-transform: rotate(0deg);        transform: rotate(0deg);    }    100%{        -webkit-transform: rotate(90deg);        transform: rotate(90deg);    }}@keyframes loading-4{    0%{        -webkit-transform: rotate(0deg);        transform: rotate(0deg);    }    100%{        -webkit-transform: rotate(36deg);        transform: rotate(36deg);    }}@keyframes loading-5{    0%{        -webkit-transform: rotate(0deg);        transform: rotate(0deg);    }    100%{        -webkit-transform: rotate(126deg);        transform: rotate(126deg);    }}@media only screen and (max-width: 990px){    .progress{ margin-bottom: 20px; }}'}});return gFramework.trigger("onColumnAddComponentWidget",{column:this,widget:e}),e}},"parallax-header-section":{index:7,icon:"&#xE40D;",popupText:"Add parallax header section",autoPreview:!0,callback:function(){var e=t('<div><div class="vd-row-widget vd-widget vd-row" style="background-position: center center; background-size: cover; background-attachment: fixed; background-image: url(&quot;http://www.visualdesigner.io/wp-content/uploads/2017/10/pexels-photo-220072.jpeg&quot;); padding: 150px 48px;">\r\n   <div class="vd-column-widget vd-col-xs-12 vd-widget" data-col-width="12" style="text-align: center; color: rgb(255, 255, 255);">\r\n      <div class="vd-text-widget vd-widget " vd-text-type="h1">\r\n         <h1><span>Visual Designer</span></h1>\r\n      </div>\r\n      <div class="vd-text-widget vd-widget " vd-text-type="p">\r\n         <p>Cras sit amet nibh libero, in gravida nulla. Nulla vel metus scelerisque\r\n            ante sollicitudin commodo. Cras purus odio, vestibulum in vulputate at,\r\n            tempus viverra turpis. Fusce condimentum nunc ac nisi vulputate \r\n            fringilla. Donec lacinia congue felis in faucibus.\r\n         </p>\r\n      </div>\r\n      <div class="vd-btn-widget vd-text-widget vd-widget " vd-text-type="a"><a href=""><span>Press Me</span></a></div>\r\n   </div>\r\n</div></div>').appendTo(this.element).componentWidget({style:{id:"bs-paralax-header-section",content:""}});return gFramework.trigger("onColumnAddComponentWidget",{column:this,widget:e}),e}},"more-components":{index:7,icon:"&#xE5D3;",popupText:"...More components coming soon"}}},"resize-column":{index:8,icon:"&#xE3BE;",popupText:"Resize column",input:{type:"slider",icon:"&#xE3BE;",popupText:"Resize column width",value:1,min:1,max:12,step:1,callback:function(t){switch(t.slider){case 1:this._setWidth(1);break;case 2:this._setWidth(2);break;case 3:this._setWidth(3);break;case 4:this._setWidth(4);break;case 5:this._setWidth(5);break;case 6:this._setWidth(6);break;case 7:this._setWidth(7);break;case 8:this._setWidth(8);break;case 9:this._setWidth(9);break;case 10:this._setWidth(10);break;case 11:this._setWidth(11);break;case 12:this._setWidth(12)}},show:function(){return this.element.attr("data-col-width")}}}}},textWidget:{classes:""},imgWidget:{classes:""},btnWidget:{classes:""},videoWidget:{classes:""},customVDCreate:function(){},vdOnCreateColumnWidget:function(e,n){var i=n.widget;i.options.menuBtns=t.extend(!0,this.options.columnWidget.menuBtns,i.options.menuBtns)},vdOnResizeColumnWidget:function(t,e){e.widget.element.removeClass(function(t,e){return(e.match(/(vd-col-.*?(1|2|3|4|5|6|7|8|9|0)+)/gi)||[]).join(" ")})}},_create:function(){this._super("_create")},bindTriggers:function(){this._super("bindTriggers"),this.options.vdOnCreateRowWidget&&this.element.on("vdOnCreateRowWidget",this.options.vdOnCreateRowWidget.bind(this)),this.options.vdOnCreateColumnWidget&&this.element.on("vdOnCreateColumnWidget",this.options.vdOnCreateColumnWidget.bind(this)),this.options.vdOnResizeColumnWidget&&this.element.on("vdOnResizeColumnWidget",this.options.vdOnResizeColumnWidget.bind(this))}})}(jQuery,window,document),function(t,e,n,i){t.widget("vd.wordpressFramework",t.vd.bootstrapTwitterFramework,{options:{menuYOffset:"40px",baseWidget:{menuBtns:{style:{index:997,icon:"&#xE41D;",subMenu:{colour:{disableDefault:!0,callback:function(e){var n=this;t('[vd-type="vd-colour-picker"]').colourPicker("hide"),e.colourPicker({change:function(t,e){var i=e.color.toCSS("rgb");(n.selection?n.selection():n.target).css("color",i)}}),t(".iris-picker",e).toggle()}},"background-colour":{disableDefault:!0,callback:function(e){var n=this;t('[vd-type="vd-colour-picker"]').colourPicker("hide"),e.colourPicker({change:function(t,e){var i=e.color.toCSS("rgb");(n.selection?n.selection():n.target).css("background-color",i)}}),t(".iris-picker",e).toggle()}},"background-image":{input:{callback:function(e){if(console.log("value",e),e.position)this.style("background-position",e.position);else if(e.size)this.style("background-size",e.size);else if(e.attachment)this.style("background-attachment",e.attachment);else if(e.src){var n=this;t.vdImgSrcPicker.off("select"),t.vdImgSrcPicker.on("select",function(){var e=t.vdImgSrcPicker.state().get("selection").first().toJSON(),i=[];i.push(n.style("background-image",'url("'+e.url+'")',!0)),i.push(n.style("background-repeat","no-repeat",!0)),t.undoWidget("registerUndo",i),t.vdImgSrcPicker.off("select")}),t.vdImgSrcPicker.open()}}}},border:{index:5,icon:"&#xE22F;",popupText:"Border",input:{type:"border-input",icon:"&#xE22F;",popupText:"Set border widths",buttons:{"border-top-width":{placeholder:"top",tooltip:"Border Width Top",dblClick:'[name="border-bottom-width"]'},"border-bottom-width":{placeholder:"bottom",tooltip:"Border Width Bottom",dblClick:'[name="border-top-width"]'},"border-left-width":{placeholder:"left",tooltip:"Border Width Left",dblClick:'[name="border-right-width"]'},"border-right-width":{placeholder:"right",tooltip:"Border Width Right",dblClick:'[name="border-left-width"]'}},callback:function(e){var n=this;e.colourPicker?(t('[vd-type="vd-colour-picker"]').colourPicker("hide"),e.btn.colourPicker({change:function(t,e){var i=e.color.toCSS("rgb");n.target.css("border-color",i)}}),t(".iris-picker",e.btn).toggle()):t.each(e,function(t,e){n.style(t,e)})},show:function(){var t=this;return{"border-top-width":t.target.css("border-top-width"),"border-bottom-width":t.target.css("border-bottom-width"),"border-left-width":t.target.css("border-left-width"),"border-right-width":t.target.css("border-right-width"),"border-style":t.target.css("border-style"),"border-color":t.target.css("border-color")}}}}}}},widgetTypes:{"vd-shortcode-widget":["shortcodeWidget","shortcodeWidget"]}},columnWidget:{menuBtns:{"add-shortcode":{index:1,icon:"&#xE8C0;",popupText:"Add shortcode",callback:function(){var e=t("<div></div>").appendTo(this.element).shortcodeWidget(t.vdFramework("option","shortcodeWidget"));return gFramework.trigger("onColumnAddShortcodeWidget",{column:this,widget:e}),t.vdWidget(e,"select"),e}},"hero-images":{index:1,icon:"fa fa-puzzle-piece",subMenu:{}},sections:{index:1,icon:"fa fa-puzzle-piece",subMenu:{}},carousels:{index:1,icon:"fa fa-puzzle-piece",subMenu:{}},tabs:{index:1,icon:"fa fa-puzzle-piece",subMenu:{}},accordions:{index:1,icon:"fa fa-puzzle-piece",subMenu:{}},headline:{index:1,icon:"fa fa-puzzle-piece",subMenu:{}},"scroll-to-btn":{index:1,icon:"fa fa-puzzle-piece",subMenu:{}},"masonry-layout":{index:1,icon:"fa fa-puzzle-piece",subMenu:{}}}},textWidget:{},imgWidget:{menuBtns:{src:{callback:function(e){var n=this;t.vdImgSrcPicker.off("select"),t.vdImgSrcPicker.on("select",function(){var e=t.vdImgSrcPicker.state().get("selection").first().toJSON();console.log("target",n.target),console.log("src",e.url),n.attribute("src",e.url),t.vdImgSrcPicker.off("select")}),t.vdImgSrcPicker.open()}}}},videoWidget:{menuBtns:{src:{callback:function(e){var n=this;t.vdVideoSrcPicker.off("select"),t.vdVideoSrcPicker.on("select",function(){var e=t.vdVideoSrcPicker.state().get("selection").first().toJSON();console.log("target",n.target),console.log("src",e.url),n.attribute("src",e.url),t.vdVideoSrcPicker.off("select")}),t.vdVideoSrcPicker.open()}}}},containerWidget:{menuBtns:{"add-shortcode":{index:1,icon:"&#xE8C0;",popupText:"Add shortcode",callback:function(){var e=t("<div></div>").appendTo(this.element).shortcodeWidget(t.vdFramework("option","shortcodeWidget"));return gFramework.trigger("onColumnAddShortcodeWidget",{column:this,widget:e}),t.vdWidget(e,"select"),e}}}},vdOnExportVisualDesign:function(e,n){t(".vd-wp-input",n.design).remove(),t(".vd-shortcode-widget",n.design).each(function(e){t(this).html(t(this).attr("vd-shortcode"))}),n.killSpinner=!1;n.widget;var i="\x3c!-- VisualDesigner BEGIN --\x3e"+n.design.prop("outerHTML")+"\x3c!-- VisualDesigner END --\x3e",o={action:"update_visual_design",post_id:t("#vd-post-id").attr("vd-post-id"),nonce:t("#vd-upload-nonce").attr("vd-nonce"),content:i};jQuery.ajax({type:"post",dataType:"json",url:ajax_object.ajaxurl,data:o,success:function(t){alert(t.type)},complete:function(t){n.instance.isProcessing=!1,n.menu.trigger("endSpinBtn",n.btn)}})},vdOnCreateMenu:function(e,n){t('[vd-type="vd-colour-picker"]',n.menu.element).attr("data-alpha",!0).data("alpha",!0).colourPicker({mode:"rgb"})},vdOnInitialiseManager:function(i,o){t(e).bind("beforeunload",function(){return"Are you sure you want to leave? Don't forget to save your design."}),t(n).ready(function(t){t('[vd-type="vd-colour-picker"]').colourPicker(),t(n).click(function(e){console.log("hide"),t(e.target).is('[vd-type="vd-colour-picker"], .iris-picker, .iris-picker-inner')||(console.log("not CP"),t('[vd-type="vd-colour-picker"]').colourPicker("hide"))})}),t.extend(!0,t.vd.baseWidget.prototype.defMenuBtns,this.options.baseWidgetDefMenuBtns),t.vdImgSrcPicker=wp.media({title:"Select Media",multiple:!1,library:{type:"image"}}),t.vdVideoSrcPicker=wp.media({title:"Select Video Media",multiple:!1,library:{type:"video"}})},vdOnShowMenu:function(e,n){t('[vd-type="vd-colour-picker"]',n.menu.element).colourPicker("hide")}},_create:function(){this._super("_create")},bindTriggers:function(){this._super("bindTriggers"),this.options.vdOnExportVisualDesign&&this.element.on("vdOnExportVisualDesign",this.options.vdOnExportVisualDesign.bind(this)),this.options.vdOnCreateMenu&&this.element.on("vdOnCreateMenu",this.options.vdOnCreateMenu.bind(this)),this.options.vdOnPreInitialiseManager&&this.element.on("vdOnPreInitialiseManager",this.options.vdOnPreInitialiseManager.bind(this)),this.options.vdOnInitialiseManager&&this.element.on("vdOnInitialiseManager",this.options.vdOnInitialiseManager.bind(this)),this.options.vdOnShowMenu&&this.element.on("vdOnShowMenu",this.options.vdOnShowMenu.bind(this))}})}(jQuery,window,document),function(t){t.widget("vd.shortcodeWidget",t.vd.baseWidget,{name:"vd-shortcode-widget",options:{classes:"",menuBtns:{"add-shortcode":{index:1,icon:"&#xE8C0;",popupText:"Shortcode",input:{type:"textarea",icon:"&#xE8C0;",placeholder:"[gallery]",popupText:"Apply shortcode",callback:function(e,n){var i=this;i.isProcessing=!0;var o=t(n.closest(".vd-menu-group")).first();o.textareaInputWidget("beginSpinBtn",t(n)),i.element.attr("vd-shortcode",e);var s={action:"vd_do_shortcode",nonce:t("#vd-shortcode-nonce").attr("vd-nonce"),shortcode:e};jQuery.ajax({type:"post",dataType:"json",url:ajax_object.ajaxurl,data:s,success:function(e){if(console.log("response",e),"success"==e.type){i.removePlaceholder();var n=e.content.replace(/\\"/g,'"');i.element.html(n)}else t.vdManager("showDialogMsg",{title:e.type,content:"<p>"+e.message+"</p>"})},complete:function(t){o.textareaInputWidget("endSpinBtn",n),i.isProcessing=!1}})},show:function(){return this.element.attr("vd-shortcode")}}}},hiddenMenuBtns:["create-component"]},placeholder:null,_create:function(){this.element.addClass("vd-shortcode-widget"),this.options.preserveContent||this.addPlaceholder(),gFramework.trigger("vdOnCreateshortcodeWidget",{widget:this}),this._super("_create")},addPlaceholder:function(){var e=this,n=e.element.attr("vd-shortcode");(!n||n.length<=0)&&(e.placeholder=t("<p>insert shortcodes</p>").appendTo(e.element))},removePlaceholder:function(){var t=this;t.placeholder&&(t.placeholder.remove(),t.placeholder=null)}})}(jQuery),function(t,e,n,i){t.widget("vd.wpbetaFramework",t.vd.wordpressFramework,{options:{menuYOffset:"10px",columnWidget:{hiddenMenuBtns:["hero-images","sections","carousels","tabs","accordions","headline","masonry-layout","scroll-to-btn"]},vdOnPreInitialiseManager:function(t,e){if(new Date("2017-11-30")<new Date)return e.exit=!0,void this.expDialog()}},expDialog:function(){var e=t('<div class="vd-modal vd-fade vd-msg-modal">  <div class="vd-modal-dialog">    <div class="vd-modal-content">      <div class="vd-modal-header">        \x3c!--<button type="button" class="vd-close" data-dismiss="modal">&times;</button>--\x3e        <h1 class="vd-modal-title">Beta Version Expired</h1>      </div>      <div class="vd-modal-body vd-text-center">\t\t \t<h3>Thank you for beta testing vD.</h3>\t\t \t<br/>\t\t \t<p>Please visit the <a href="http://www.visualdesigner.io/" target="_blank">Visual Designer</a> website for more information.</p>      </div>      <div class="vd-modal-footer">        \x3c!--<button type="button" class="vd-menu-btn vd-btn-block" data-dismiss="modal">Save</button>        <button type="button" class="vd-menu-btn vd-btn-block" data-dismiss="modal">Cancel</button>--\x3e      </div>    </div>  </div></div>').appendTo("body");e.wrap('<div class="vd-bootstrap"></div>'),e.modal()}})}(jQuery,window,document),function(t,e,n,i){t.widget("vd.wpdemoFramework",t.vd.wordpressFramework,{options:{menuYOffset:"10px",columnWidget:{hiddenMenuBtns:["hero-images","sections","carousels","tabs","accordions","headline","masonry-layout","scroll-to-btn"]},vdOnExportVisualDesign:function(t,e){e.killSpinner=!1,setTimeout(function(){alert("Mock Update Success :D"),e.menu.trigger("endSpinBtn",e.btn),e.instance.isProcessing=!1},900)}}})}(jQuery,window,document),function(t){t.widget("vd.inputWidget",t.vd.baseMenu,{options:{classes:"",icon:"",placeholder:"foo",popupText:"",callback:function(t){}},addSubmitBtn:!0,_create:function(){this.options.isSubMenu=!0,this._super("_create");var e=this;e.element.addClass("vd-input-widget vd-sub-menu vd-menu vd-btn-group vd-btn-group-lg"),e.element.addClass(e.options.classes),e.container=t("<div></div>").addClass("vd-input-menu vd-input-group").appendTo(e.element),e.addSubmitBtn&&(e.subBtn=e._createSubmitBtn().click(function(t){t.preventDefault(),t.stopPropagation();var n=e.validate(t);e.options.callback.call(gSelWidget,n,t.target)})),e.initInput(),e.element.on("showInput",function(){e.show()}),e.element.on("hideInput",function(){e.hide()}),t(".vd-radio-btn",e.element).click(function(){t(this).siblings(".vd-radio-btn").removeClass("vd-selected"),t(this).addClass("vd-selected")}),gFramework.trigger("vdOnInitInput",{widget:e})},initInput:function(){this.inputEle=t("<input></input>").attr("aria-describedby","").attr("placeholder",this.options.placeholder).attr("title",this.options.tooltip).addClass("vd-form-control vd-input-lg").appendTo(this.container)},_createBtn:function(e,n,i,o){var s=t("<a></a>").attr("href","#").attr("type","button").attr("data-toggle","popover").attr("data-trigger","hover").attr("data-placement","bottom").attr("data-content",i.popupText).addClass("vd-menu-btn").addClass(o).appendTo(e).popover();t("<i></i>").addClass("vd-icon material-icons").attr("aria-hidden","true").html(n).appendTo(s);return t.each(i,function(t,e){s.attr(t,e)}),s},_createSubmitBtn:function(){return this._createBtn(this.container,this.options.icon,{popupText:this.options.popupText},"vd-menu-btn vd-input-group-addon")},show:function(t){this.options.show&&this.inputEle.val(this.options.show.call(gSelWidget,this))},hide:function(t){console.log("INPUT HIDE")},validate:function(t){return this.inputEle.val()}})}(jQuery),function(t){t.widget("vd.multiTextInputWidget",t.vd.inputWidget,{options:{classes:"",icon:"",buttons:[{name:"",placeholder:""}]},_create:function(){this.element.addClass("vd-input-menu"),gFramework.trigger("vdOnInitMultiTextInput",{widget:self}),this._super("_create")},initInput:function(){var e=this;e.inputEle=t("<div></div>").addClass("vd-multi-input vd-input-group").insertAfter(e.subBtn),t.each(e.options.buttons,function(n,i){var o=t("<input></input>").attr("aria-describedby","").attr("name",n).addClass("vd-form-control vd-input-lg vd-input-1").appendTo(e.inputEle);i.placeholder&&o.attr("placeholder",i.placeholder),i.tooltip&&o.attr("title",i.tooltip),i.dblClick&&o.dblclick(function(){t(i.dblClick,e.inputEle).val(t(this).val())})})},show:function(e){var n=this;if(!n.options.show)return!1;var i=n.options.show.call(gSelWidget);t.each(i,function(e,i){t('input[name="'+e+'"]',n.element).val(i)})},validate:function(e){var n={};return this.inputEle.children("input").each(function(){n[t(this).attr("name")]=t(this).val()}),console.log("values",n),n}})}(jQuery),function(t){t.widget("vd.radioBtnWidget",t.vd.inputWidget,{options:{},addSubmitBtn:!1,_create:function(){this.element.addClass("vd-input-menu"),gFramework.trigger("vdOnInitRadioBtnInput",{widget:self}),this._super("_create")},initInput:function(){var e=this;e.inputEle=t("<div></div>").addClass("vd-multi-input vd-input-group").appendTo(e.container),t.each(e.options.buttons,function(t,n){e._createBtn(e.inputEle,n.icon,n,"vd-radio-btn vd-menu-btn vd-input-group-addon").click(function(t){t.preventDefault(),t.stopPropagation(),e.options.callback.call(gSelWidget,n.name,t.target)})})},show:function(e){if(t(".vd-radio-btn",this.element).removeClass("vd-selected"),!this.options.show)return!1;var n=this.options.show.call(gSelWidget),i=t('a[name="'+n+'"]',this.element);i.length>0&&i.addClass("vd-selected")},validate:function(e){var n={};return this.inputEle.children("input").each(function(){n[t(this).attr("name")]=t(this).val()}),n}})}(jQuery),function(t){t.widget("vd.sliderWidget",t.vd.inputWidget,{options:{value:1,min:1,max:6,step:1},initInput:function(){var e=this;e.slider=t("<div></div>").addClass("vd-slider vd-input-fill").attr("data-type","vd-slider").appendTo(e.container).slider({value:e.options.value,min:e.options.min,max:e.options.max,step:e.options.step,slide:function(t,n){e.options.callback.call(gSelWidget,{slider:n.value},t.target)}})},show:function(t){var e=this;if(!e.options.show)return!1;var n=e.options.show.call(gSelWidget);n||(n=100),e.slider.slider("value",n)}})}(jQuery),function(t){t.widget("vd.textareaInputWidget",t.vd.inputWidget,{_create:function(){gFramework.trigger("vdOnInitTextAreaInput",{widget:self}),this._super("_create")},initInput:function(){this.inputEle=t("<textarea></textarea>").attr("aria-describedby","").attr("placeholder",this.options.placeholder).attr("title",this.options.tooltip).addClass("vd-form-control vd-input-lg").appendTo(this.container)}})}(jQuery),function(t){t.widget("vd.bkImgInputWidget",t.vd.inputWidget,{options:{},addSubmitBtn:!1,posBtns:{left:{icon:"&#xE236;",popupText:"Left align image"},center:{icon:"&#xE234;",popupText:"Center align image"},right:{icon:"&#xE237;",popupText:"Right align image"}},sizeBtns:{cover:{icon:"&#xE5D0;",popupText:"Cover background"},contain:{icon:"&#xE5D1;",popupText:"Contain background"}},attachmentBtns:{local:{icon:"&#xE898;",popupText:"Static background image"},fixed:{icon:"&#xE899;",popupText:"Parallax background image"}},srcBtns:{src:{icon:"&#xE3B6;",popupText:"Image"}},_create:function(){this.element.addClass("vd-input-menu"),gFramework.trigger("vdOnInitBkImgInput",{widget:self}),this._super("_create")},initInput:function(){var e=this;e.imgSrcEle=t("<div></div>").addClass("vd-multi-input vd-input-group").appendTo(e.container),e.imgAlignEle=t("<div></div>").addClass("vd-multi-input vd-input-group").appendTo(e.container),e.imgPosEle=t("<div></div>").addClass("vd-multi-input vd-input-group").appendTo(e.container),e.imgAttachmentEle=t("<div></div>").addClass("vd-multi-input vd-input-group").appendTo(e.container),t.each(e.srcBtns,function(t,n){n.name=t,e._createBtn(e.imgSrcEle,n.icon,n,"vd-menu-btn vd-input-group-addon").click(function(t){t.preventDefault(),t.stopPropagation(),e.options.callback.call(gSelWidget,{src:"click"},t.target)})}),t.each(e.posBtns,function(t,n){n.name=t,e._createBtn(e.imgAlignEle,n.icon,n,"vd-radio-btn vd-menu-btn vd-input-group-addon").click(function(n){n.preventDefault(),n.stopPropagation(),e.options.callback.call(gSelWidget,{position:t},n.target)})}),t.each(e.sizeBtns,function(t,n){n.name=t,e._createBtn(e.imgPosEle,n.icon,n,"vd-radio-btn vd-menu-btn vd-input-group-addon").click(function(n){n.preventDefault(),n.stopPropagation(),e.options.callback.call(gSelWidget,{size:t},n.target)})}),t.each(e.attachmentBtns,function(t,n){n.name=t,e._createBtn(e.imgAttachmentEle,n.icon,n,"vd-radio-btn vd-menu-btn vd-input-group-addon").click(function(n){n.preventDefault(),n.stopPropagation(),e.options.callback.call(gSelWidget,{attachment:t},n.target)})})}})}(jQuery),function(t){t.widget("vd.borderInputWidget",t.vd.multiTextInputWidget,{options:{classes:"",icon:"",buttons:[{name:"",placeholder:""}],dropdownOptions:[{name:"none",display:"None"},{name:"solid",display:"Solid"},{name:"dashed",display:"Dash"},{name:"dotted",display:"Dotted"},{name:"double",display:"Double"},{name:"groove",display:"Groove"},{name:"ridge",display:"Ridge"},{name:"inset",display:"Inset"},{name:"outset",display:"Outset"}]},defShowValues:{"border-top-width":"1px","border-bottom-width":"1px","border-left-width":"1px","border-right-width":"1px"},initInput:function(){var e=this;e.inputEle=t("<div></div>").addClass("vd-multi-input vd-input-group").insertAfter(e.subBtn),t.each(e.options.buttons,function(n,i){var o=t("<input></input>").attr("aria-describedby","").attr("name",n).addClass("vd-form-control vd-input-lg vd-input-1").appendTo(e.inputEle);i.placeholder&&o.attr("placeholder",i.placeholder),i.tooltip&&o.attr("title",i.tooltip),i.dblClick&&o.dblclick(function(){t(i.dblClick,e.inputEle).val(t(this).val())})}),e.borderTypeContainer=t("<div></div>").addClass("vd-multi-input vd-input-menu vd-input-group").appendTo(e.container),e.dropdown=t("<select></select>").appendTo(e.borderTypeContainer).attr("title","Border Style").addClass("vd-form-control vd-input-lg").change(function(n){var i=t(this).find("option:selected").attr("name");e.options.callback.call(gSelWidget,{"border-style":i},n.target)}),t.each(e.options.dropdownOptions,function(n,i){t("<option></option>").appendTo(e.dropdown).attr("name",i.name).text(i.display)}),e.colourBtn=e._createBtn(e.container,"&#xE22B;",{"vd-type":"vd-colour-picker",popupText:"Border colour"},"vd-menu-btn vd-input-group-addon").click(function(n){n.preventDefault(),n.stopPropagation();var i=t(this);e.options.callback.call(gSelWidget,{colourPicker:!0,btn:i},n.target)})},validate:function(t){return this._super("validate",t)},show:function(e){var n=this;if(t.each(n.defShowValues,function(e,i){t('input[name="'+e+'"]',n.element).val(i)}),n.options.show){var i=n.options.show.call(gSelWidget,n);t.each(i,function(e,i){t('input[name="'+e+'"]',n.element).val(i)})}}})}(jQuery),function(t){t.widget("vd.dropdownWidget",t.vd.inputWidget,{options:{dropdownOptions:[{name:"foo",display:"Foo"}]},initInput:function(){var e=this;e.dropdown=t("<select></select>").appendTo(e.container).attr("placeholder",this.options.placeholder).attr("title",this.options.tooltip).addClass("vd-form-control vd-input-lg").change(function(n){var i='"'+t(this).find("option:selected").attr("name")+'"';e.options.callback.call(gSelWidget,i,n.target)}),t.each(e.options.dropdownOptions,function(n,i){t("<option></option>").appendTo(e.dropdown).attr("name",i.name).text(i.display)})},show:function(t){if(this.options.show){var e=this;e.options.show.call(gSelWidget,e)}}})}(jQuery),function(t){t.widget("vd.fontFamilyWidget",t.vd.dropdownWidget,{initInput:function(){this._super(),t("option",this.dropdown).each(function(){var e=t(this).attr("name");t(this).css("font-family",e)})}})}(jQuery),function(t){t.widget("vd.fontSizeWidget",t.vd.inputWidget,{options:{selUnit:"rem",dropdownOptions:{rem:{name:"rem",display:"rem",min:1,max:20,step:1},em:{name:"em",display:"em",min:1,max:20,step:1},"%":{name:"%",display:"%",min:1,max:200,step:1},px:{name:"px",display:"px",min:1,max:500,step:2}}},initInput:function(){var e=this;e.slider=t("<div></div>").addClass("vd-slider vd-input-fill").attr("data-type","vd-slider").attr("vd-value",e.options.value).appendTo(e.container).slider({value:e.options.dropdownOptions[e.options.selUnit].min,min:e.options.dropdownOptions[e.options.selUnit].min,max:e.options.dropdownOptions[e.options.selUnit].max,step:e.options.dropdownOptions[e.options.selUnit].step,slide:function(t,n){e.slider.attr("vd-value",n.value);var i=e.dropdown.find("option:selected").attr("name");e.options.callback.call(gSelWidget,{size:e.slider.attr("vd-value"),units:i},t.target)}});var n=t("<div></div>").appendTo(e.container).addClass("vd-form-group");e.dropdown=t("<select></select>").appendTo(n).addClass("vd-form-control vd-input-lg").change(function(n){var i=t(this).find("option:selected").attr("name");console.log(i,e.options.dropdownOptions[i]),e.slider.slider("option",{min:e.options.dropdownOptions[i].min,max:e.options.dropdownOptions[i].max,step:e.options.dropdownOptions[i].step}),e.options.callback.call(gSelWidget,{size:e.slider.attr("vd-value"),units:i},n.target)}),t.each(e.options.dropdownOptions,function(n,i){t("<option></option>").appendTo(e.dropdown).attr("name",i.name).text(i.display)})},show:function(e){if(this.options.show){var n=this.options.show.call(gSelWidget,this);!n||!n.units||n.units.length<=0||(t("option",self.dropdown).removeAttr("selected"),t("option[name="+n.units.toLowerCase()+"]",self.dropdown).attr("selected","selected"))}}})}(jQuery),function(t){t.widget("vd.linkInputWidget",t.vd.inputWidget,{options:{buttons:{_self:{icon:"&#xE89D;",popupText:"Open link in same page"},_blank:{icon:"&#xE89E;",popupText:"Open link in new page"}}},_create:function(){this.element.addClass("vd-input-menu"),gFramework.trigger("vdOnInitBkImgInput",{widget:self}),this._super("_create")},initInput:function(){var e=this;e.inputEle=t("<input></input>").attr("aria-describedby","").attr("name","url").attr("placeholder",this.options.placeholder).attr("title",this.options.tooltip).addClass("vd-link-input vd-form-control vd-input-lg").appendTo(e.container),e.linkInputEle=t("<div></div>").addClass("vd-input-menu vd-input-group").appendTo(e.container),t.each(e.options.buttons,function(t,n){e._createBtn(e.linkInputEle,n.icon,n,"vd-radio-btn vd-menu-btn vd-input-group-addon").click(function(n){n.preventDefault(),n.stopPropagation(),e.element.attr("target",t)})})},show:function(e){var n=this;if(t(".vd-radio-selected").removeClass("vd-radio-selected"),!this.options.show)return!1;var i=this.options.show.call(gSelWidget);i&&(n.inputEle.val(i.url),t(".vd-radio-btn",this.linkInputEle).removeClass("vd-selected"),t('.vd-radio-btn[name="'+i.target+'"]',this.linkInputEle).addClass("vd-selected"))},validate:function(t){var e=this;return{url:e.inputEle.val(),target:e.element.attr("target")}}})}(jQuery);